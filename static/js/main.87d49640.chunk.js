(this.webpackJsonpflowchart=this.webpackJsonpflowchart||[]).push([[0],{496:function(e,t,a){e.exports=a(919)},501:function(e,t,a){},502:function(e,t,a){},802:function(e,t){},804:function(e,t){},818:function(e,t){},820:function(e,t){},848:function(e,t){},850:function(e,t){},851:function(e,t){},856:function(e,t){},858:function(e,t){},864:function(e,t){},866:function(e,t){},885:function(e,t){},897:function(e,t){},900:function(e,t){},919:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),l=a(20),i=a.n(l),c=(a(501),a(12)),s=(a(502),a(41)),d=a(25),u=a(968),m=a(116),g=a(920),p=a(979),b=a(980),f=a(974),h=a(975),E=a(991),y=a(981),v=a(922),O=a(998),x=a(982),j=a(993),S=a(464),w=a.n(S),k=a(113),C=a.n(k),T=a(465),A=a.n(T),I=a(114),N=a.n(I),R=a(452),F=a.n(R),D=(a(606),a(994)),J=a(969),P=a(978),z=a(971),L=a(970),B=a(466),H=a.n(B),Y=a(154),V=a.n(Y),W=a(977),M=a(923),_=a(983),U=a(985),G=a(984),q=a(995),K=a(6),X=a.n(K),$=a(218),Q=a(990),Z=a(967),ee=a(462),te=a.n(ee),ae=a(463),ne=a.n(ae),oe="https://flowchart-backend.herokuapp.com",re=function(e){var t,a=e.currentFile,n=e.setCurrentFile,l=e.setCanvasVisibility,i=e.setEdgeType,S=e.setSelectedColor,k=e.isEditMode,T=e.setOrientation,I=e.orientation,R=Object(o.useState)([]),B=Object(c.a)(R,2),Y=B[0],K=B[1],ee=Object(o.useState)(""),ae=Object(c.a)(ee,2),re=ae[0],le=ae[1],ie=Object(o.useState)(""),ce=Object(c.a)(ie,2),se=ce[0],de=ce[1],ue=r.a.useState(!1),me=Object(c.a)(ue,2),ge=me[0],pe=me[1],be=Object(o.useState)(!1),fe=Object(c.a)(be,2),he=fe[0],Ee=fe[1],ye=Object(o.useState)({value:!1,msg:""}),ve=Object(c.a)(ye,2),Oe=ve[0],xe=ve[1],je=Object(o.useState)([]),Se=Object(c.a)(je,2),we=Se[0],ke=Se[1],Ce=Object(o.useState)({}),Te=Object(c.a)(Ce,2),Ae=Te[0],Ie=Te[1],Ne=Object(o.useState)(""),Re=Object(c.a)(Ne,2),Fe=Re[0],De=Re[1],Je=Object(o.useState)([]),Pe=Object(c.a)(Je,2),ze=Pe[0],Le=Pe[1],Be=r.a.useState(!1),He=Object(c.a)(Be,2),Ye=He[0],Ve=He[1],We=Object(o.useState)(!1),Me=Object(c.a)(We,2),_e=Me[0],Ue=Me[1],Ge=Object(o.useState)(""),qe=Object(c.a)(Ge,2),Ke=qe[0],Xe=qe[1],$e=Object(o.useState)(""),Qe=Object(c.a)($e,2),Ze=Qe[0],et=Qe[1],tt=Object(o.useState)({}),at=Object(c.a)(tt,2),nt=at[0],ot=at[1],rt=Object(o.useState)(!1),lt=Object(c.a)(rt,2),it=lt[0],ct=lt[1],st=Object(o.useState)(!1),dt=Object(c.a)(st,2),ut=dt[0],mt=dt[1],gt=Object(o.useState)({r:"193",g:"230",b:"255",a:"100"}),pt=Object(c.a)(gt,2),bt=pt[0],ft=pt[1],ht=Object(o.useState)(0),Et=Object(c.a)(ht,2),yt=Et[0],vt=Et[1];Object(o.useEffect)((function(){fetch("".concat(oe,"/api/get-user-info"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session")}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t,a;console.log("testtttttttttt",e),t=Array.isArray(e.tags)?e.tags:JSON.parse(e.tags),a=Array.isArray(e.names)?e.names:JSON.parse(e.names),console.log(t),console.log(a),console.log(JSON.parse(e.files)),Le(t),ke(a),K(JSON.parse(e.files))}))}),[]);var Ot=function(){le(""),de(""),Ee(!1),Ue(!1),Xe(!1),et(!1),ot(!1),xe({}),ge?pe(!1):Ve(!1)},xt=function(e){console.log("updating database...."),fetch("".concat(oe,"/api/update-files"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),files:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e,"ndsojdmsio99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"),K(JSON.parse(e.files))}))},jt=function(e){console.log("updating database...."),fetch("".concat(oe,"/api/update-names"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),names:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return ke(e.names)}))},St=function(e){console.log("updating database...."),fetch("".concat(oe,"/api/update-tags"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),tags:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(JSON.parse(e.tags)),Le(JSON.parse(e.tags))}))};Object(o.useEffect)((function(){Y.filter((function(e){return e.hasOwnProperty("parentId")||e.hasOwnProperty("elements")})).length&&!it?l(!0):l(!1)}),[Y,l]);var wt=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"},kt=X()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(bt.r,", ").concat(bt.g,", ").concat(bt.b,", ").concat(bt.a,")")},swatch:{padding:"5px",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",null,r.a.createElement(Q.a,{value:yt,onChange:function(e,t){console.log(t),vt(t)},variant:"fullWidth",indicatorColor:"primary",tabItemContainerStyle:{width:"100%"},textColor:"primary","aria-label":"icon label tabs example"},r.a.createElement(Z.a,{icon:r.a.createElement(te.a,null),label:"Files"}),r.a.createElement(Z.a,{icon:r.a.createElement(ne.a,null),label:"Shapes"})),0===yt?r.a.createElement(u.a,{item:!0,xs:12,style:{height:"70vh",textAlign:"center",borderRight:"solid #D5D5D5 1px"}},r.a.createElement(m.a,{variant:"h5",gutterBottom:!0,style:{padding:20}},"Folder Structures"),r.a.createElement(u.a,{container:!0,spacing:0,justifyContent:"center"},r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(g.a,{"aria-label":"Add Folder",onClick:function(){pe(!0)},color:"primary"},r.a.createElement(w.a,{fontSize:"medium"}))),r.a.createElement(J.a,{open:ge,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Create New Folder"),r.a.createElement(z.a,null,r.a.createElement(D.a,{error:!!Oe.value,autoFocus:!0,margin:"dense",id:"folder",label:"Folder Name",helperText:Oe.value&&Oe.msg,onChange:function(e){le(e.target.value)},fullWidth:!0})),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(){if(0===re.length)xe({value:!0,msg:"Folder name can not be empty."});else if(we.includes(re))xe({value:!0,msg:"Folder must be unique."});else{var e=Object(d.a)(Y);e.push({id:re,text:re,expanded:!0}),K(e),xt(e),localStorage.setItem("files",JSON.stringify(e));var t=0===we.length?[]:Object(d.a)(we);t.push(re),console.log(re),ke(t),jt(t),localStorage.setItem("names",JSON.stringify(t)),xe({}),pe(!1)}},color:"primary"},"Submit"))),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(g.a,{"aria-label":"Add File",color:"primary",onClick:function(){Ve(!0)},disabled:!a.hasOwnProperty("expanded")},r.a.createElement(A.a,{fontSize:"medium"}))),r.a.createElement(J.a,{open:Ye,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Create New File"),r.a.createElement(z.a,null,r.a.createElement(D.a,{error:!!Oe.value,autoFocus:!0,margin:"dense",id:"file",label:"File Name",onChange:function(e){de(e.target.value)},helperText:Oe.value&&Oe.msg,fullWidth:!0})),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(){if(0===se.length)xe({value:!0,msg:"File name can not be empty."});else if(we.includes(se))xe({value:!0,msg:"File name must be unique."});else{var e=Object(d.a)(Y);if(e[0].hasOwnProperty("parentId"))xe({value:!0,msg:"You must have folder to create a file."});else{e.push({id:se,text:se,parentId:a.id,elements:[]}),K(e),xt(e),localStorage.setItem("files",JSON.stringify(e));var t=0===we.length?[]:Object(d.a)(we);t.push(se),ke(t),localStorage.setItem("names",JSON.stringify(t)),jt(t),xe({}),Ve(!1)}}},color:"primary"},"Submit"))),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(g.a,{"aria-label":"Delete",color:"secondary",onClick:function(){var e=JSON.parse(JSON.stringify(Y)),t=Y.findIndex((function(e){return e===a}));e.splice(t,1);var o=Object(d.a)(we),r=we.indexOf(a.id);o.splice(r,1),ke(o),jt(o),localStorage.setItem("names",JSON.stringify(o)),K(e),xt(e),localStorage.setItem("files",JSON.stringify(e)),localStorage.removeItem("current");var l=a.elements.filter((function(e){return a.id!==e.node}));n({}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("updating database...."),fetch("".concat(oe,"/api/update-elements"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),file:a.id,isDelete:t,elements:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}(l,!0)},disabled:0===Object.keys(a).length},r.a.createElement(C.a,{fontSize:"medium"})))),r.a.createElement(b.a,{style:{marginTop:20},orientation:"horizontal"}),r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},0===Y.length?r.a.createElement("div",null):r.a.createElement(F.a,{searchEnabled:!0,style:{display:"inline-block",paddingLeft:15,paddingTop:15,paddingRight:15,fontSize:18,fontWeight:"normal"},dataStructure:"plain",id:"simple-treeview",items:Y,width:"100%",onItemClick:function(e){console.log("ddd",e.itemData.hasOwnProperty("expanded")),e.itemData.hasOwnProperty("expanded")?(ct(!0),l(!1)):(localStorage.setItem("current",JSON.stringify(e.itemData)),ct(!1),l(!0)),n(e.itemData)}}))):r.a.createElement(u.a,{item:!0,xs:12,style:{height:"70vh",textAlign:"center",borderRight:"solid #D5D5D5 1px"}},r.a.createElement(m.a,{variant:"h5",gutterBottom:!0,style:{padding:20}},"Shapes Settings"),k&&r.a.createElement(u.a,{container:!0,direction:"column",spacing:1},r.a.createElement(u.a,{container:!0,direction:"row",spacing:1},r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{onDragStart:function(e){return wt(e,"special")},draggable:!0},r.a.createElement("div",{style:{background:"#ADD8E6",color:"black",padding:10,border:"1px solid black",width:50,height:5,borderRadius:"10px 10px 0px 0px",textAlign:"center",marginLeft:20,cursor:"pointer"}}),r.a.createElement("div",{style:{background:"white",border:"1px solid black",color:"black",padding:10,width:50,height:15,borderRadius:"0px 0px 10px 10px",textAlign:"center",marginLeft:20,cursor:"pointer"}}))),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"60px",width:"80px",borderRadius:"50px",cursor:"pointer"},onDragStart:function(e){return wt(e,"oval")},draggable:!0}))),r.a.createElement(u.a,{container:!0,direction:"row",spacing:1,style:{paddingTop:"30px",paddingBottom:"20px"}},r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"50px",width:"80px",borderRadius:"10px",cursor:"pointer",marginLeft:20},onDragStart:function(e){return wt(e,"rectangle")},draggable:!0})),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"50px",width:"50px",borderRadius:"5px",transform:"rotate(45deg)",marginLeft:"10px",cursor:"pointer"},onDragStart:function(e){return wt(e,"diamond")},draggable:!0})))),r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement("div",{style:{paddingLeft:20,paddingTop:20}},r.a.createElement(u.a,{item:!0,xs:12,direction:"row"},r.a.createElement(m.a,{variant:"subtitle1",gutterBottom:!0},"Node Color"),r.a.createElement("div",{style:kt.swatch,onClick:function(){mt(!ut)}},r.a.createElement("div",{style:kt.color})),ut?r.a.createElement("div",{style:kt.popover},r.a.createElement("div",{style:kt.cover,onClick:function(){mt(!1)}}),r.a.createElement($.a,{color:bt,onChange:function(e){S(e.rgb),ft(e.rgb)}})):null))),r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement(f.a,{variant:"outlined",style:{width:150,marginTop:30,marginLeft:20}},r.a.createElement(h.a,{id:"demo-simple-select-outlined-label"},"EdgeType"),r.a.createElement(E.a,{style:{fontSize:15},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){i(e.target.value)},variant:"outlined",label:"EdgeType",defaultValue:"smoothstep",displayEmpty:!0},r.a.createElement(y.a,{value:"smoothstep"},"Step Edge"),r.a.createElement(y.a,{value:"default"},"Curved Edge")))),!k&&r.a.createElement(f.a,{component:"fieldset",style:{marginTop:30}},r.a.createElement(v.a,{component:"legend"},"Orientation"),r.a.createElement(O.a,{"aria-label":"Orientation",name:"orientation",value:I,onChange:function(e){T(e.target.value)}},r.a.createElement(x.a,{value:"vertical",control:r.a.createElement(j.a,null),label:"Vertical"}),r.a.createElement(x.a,{value:"horizontal",control:r.a.createElement(j.a,null),label:"Horizontal"})))),r.a.createElement(b.a,{orientation:"horizontal"}),r.a.createElement(u.a,{item:!0,xs:12,style:(t={height:"30vh",textAlign:"center",backgroundColor:"#F2F2F2"},Object(s.a)(t,"height","320px"),Object(s.a)(t,"overflowY","scroll"),t)},r.a.createElement(m.a,{variant:"h5",gutterBottom:!0,style:{padding:10}},"Tags"),r.a.createElement(p.a,{onClick:function(){return Ee(!0)},variant:"outlined",color:"primary",startIcon:r.a.createElement(N.a,null)},"New Tag"),r.a.createElement(J.a,{open:he,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Create New Tag"),r.a.createElement(z.a,null,r.a.createElement(D.a,{error:!!Ae.value,autoFocus:!0,margin:"dense",id:"tag",label:"Tag Name",helperText:Ae.value&&Ae.msg,onChange:function(e){De(e.target.value)},fullWidth:!0})),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(){if(0===Fe.length)Ie({value:!0,msg:"Tag name can not be empty."});else if(ze.includes(Fe))Ie({value:!0,msg:"Tag must be unique."});else{console.log(ze),console.log(Fe);var e=Object(d.a)(ze);e.push(Fe),Le((function(e){return Object(d.a)(e).concat([Fe])})),St(e),localStorage.setItem("tags",JSON.stringify(e)),Ie({}),Ee(!1),console.log(ze)}},color:"primary"},"Submit"))),r.a.createElement(W.a,null,ze.map((function(e){return r.a.createElement(M.a,null,r.a.createElement(_.a,null,r.a.createElement(q.a,null,r.a.createElement(H.a,null))),r.a.createElement(G.a,{primary:e}),r.a.createElement(U.a,null,r.a.createElement(g.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){Xe(e),Ue(!0)}},r.a.createElement(V.a,null)),r.a.createElement(g.a,{edge:"end","aria-label":"delete",color:"primary",onClick:function(){return function(e){var t=Object(d.a)(ze),a=ze.findIndex((function(t){return t===e}));t.splice(a,1),Le(t),St(t),localStorage.setItem("tags",JSON.stringify(t))}(e)}},r.a.createElement(C.a,null))))})),r.a.createElement(J.a,{open:_e,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Edit Tag"),r.a.createElement(z.a,null,r.a.createElement(D.a,{error:!!nt.value,autoFocus:!0,type:"text",margin:"dense",id:"tag",defaultValue:Ke,label:"Tag Name",helperText:nt.value&&nt.msg,onChange:function(e){et(e.target.value)},fullWidth:!0})),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(){return function(e){if(0===Ze.length)ot({value:!0,msg:"Tag name can not be empty."});else if(ze.includes(Ze))ot({value:!0,msg:"Tag must be unique."});else{var t=Object(d.a)(ze);t[ze.indexOf(e)]=Ze,Le(t),St(t),localStorage.setItem("tags",JSON.stringify(t)),ot({}),Ue(!1),Xe(!1),et(!1)}}(Ke)},color:"primary"},"Submit"))))))},le=a(49),ie=a.n(le),ce=a(136),se=a(78),de=a(988),ue=a(1e3),me=a(1001),ge=a(989),pe=a(999),be=a(217),fe=a.n(be),he=a(476),Ee=a(216),ye=a.n(Ee),ve=a(473),Oe=a.n(ve),xe=a(27),je=a(987),Se=a(996),we=a(992),ke=a(285),Ce=a.n(ke),Te=(a(797),a(798),new Ce.a.graphlib.Graph),Ae="https://flowchart-backend.herokuapp.com";Te.setDefaultEdgeLabel((function(){return{}}));var Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TB",a="LR"===t;return Te.setGraph({rankdir:t}),e.forEach((function(e){Object(xe.k)(e)?Te.setNode(e.id,{width:170,height:180}):Te.setEdge(e.source,e.target)})),Ce.a.layout(Te),e.map((function(e){if(Object(xe.k)(e)){var t=Te.node(e.id);e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-85+Math.random()/1e3,y:t.y-90}}return e}))},Ne=Object(je.a)((function(e){return Object(Se.a)({previewChip:{minWidth:160,maxWidth:210}})})),Re=function(e){var t,a=e.data;return r.a.createElement("div",null,r.a.createElement("div",{style:{background:"white",borderColor:"rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")"),width:150,minHeight:10,borderRadius:"10px 10px 0px 0px",textAlign:"center"}},r.a.createElement(xe.c,{type:"target",position:"horizontal"===n?"left":"top",style:{background:"black"}}),r.a.createElement("div",{style:{width:"93%",overflowWrap:"break-word",marginLeft:10,marginRight:300}},r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{margin:"auto"}},a.title))),r.a.createElement("div",{style:(t={width:"93%"},Object(s.a)(t,"width",150),Object(s.a)(t,"background","white"),Object(s.a)(t,"border","2px solid rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")")),Object(s.a)(t,"color","black"),Object(s.a)(t,"padding",10),Object(s.a)(t,"minHeight",40),Object(s.a)(t,"borderRadius","0px 0px 10px 10px"),Object(s.a)(t,"textAlign","center"),t)},r.a.createElement("div",{style:{width:"93%",minHeight:"40px",textAlign:"center",marginLeft:10,marginRight:300}},r.a.createElement(u.a,{container:!0,direction:"row",spacing:1,justifyContent:"center",alignItems:"center"},r.a.createElement("div",{style:{textAlign:"center"}},a.description.map((function(e){return r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{paddingRight:10}},e.key)}))),r.a.createElement(b.a,{orientation:"vertical",style:{minHeight:50,textAlign:"center"},flexItem:!0}),r.a.createElement("div",{style:{textAlign:"center"}},a.description.map((function(e){return r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{paddingLeft:10}},e.value)})))))),r.a.createElement(xe.c,{type:"source",position:"horizontal"===n?"right":"bottom",style:{background:"black"},isConnectable:!0}))},Fe=function(e){var t=e.data;return r.a.createElement("div",{style:{background:"white",borderColor:"rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),width:150,minHeight:70,textAlign:"center",borderRadius:"50px"}},r.a.createElement(xe.c,{type:"target",position:"horizontal"===n?"left":"top",style:{background:"black"}}),r.a.createElement("div",{style:{width:"93%",overflowWrap:"break-word",marginLeft:10,marginRight:300}},r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{margin:"auto"}},t.title.substring(0,27))),r.a.createElement(xe.c,{type:"source",position:"horizontal"===n?"right":"bottom",style:{background:"black"},isConnectable:!0}))},De=function(e){var t=e.data;return r.a.createElement("div",{style:{background:"white",borderColor:"rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),width:150,minHeight:70,textAlign:"center",borderRadius:"10px"}},r.a.createElement(xe.c,{type:"target",position:"horizontal"===n?"left":"top",style:{background:"black"}}),r.a.createElement("div",{style:{width:"93%",overflowWrap:"break-word",marginLeft:10,marginRight:300}},r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{margin:"auto"}},t.title)),r.a.createElement(xe.c,{type:"source",position:"horizontal"===n?"right":"bottom",style:{background:"black"},isConnectable:!0}))},Je=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",{style:{background:"white",backgroundColor:"white",color:"black",padding:10,border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),width:100,minHeight:100,textAlign:"center",borderRadius:"5px",transform:"rotate(45deg)"}},r.a.createElement("div",{style:{transform:"rotate(-45deg)",marginTop:35}},r.a.createElement("div",{style:{width:"93%",minHeight:"40px",overflowWrap:"break-word",marginLeft:10,marginRight:300}},r.a.createElement(m.a,{variant:"subtitle2",gutterBottom:!0,style:{margin:"auto"}},t.title)))),r.a.createElement(xe.c,{type:"source",position:"horizontal"===n?"right":"bottom",style:{background:"black"},isConnectable:!0}),r.a.createElement(xe.c,{type:"target",position:"horizontal"===n?"left":"top",style:{background:"black"}}))},Pe=function(e){var t=e.currentFile,a=e.selectedColor,l=e.edgeType,i=e.setEditMode,s=e.isEditMode,v=e.orientation;n=v;var O=Object(o.useState)([]),x=Object(c.a)(O,2),j=x[0],S=x[1],w=Object(o.useState)({}),k=Object(c.a)(w,2),T=k[0],A=k[1],I=Object(o.useState)(!1),R=Object(c.a)(I,2),F=R[0],B=R[1],H=Object(o.useState)(!1),Y=Object(c.a)(H,2),W=(Y[0],Y[1],Object(o.useState)(!1)),M=Object(c.a)(W,2),_=M[0],U=M[1],G=r.a.useState(!1),q=Object(c.a)(G,2),K=q[0],Q=q[1],Z=Object(o.useState)(!1),ee=Object(c.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(""),oe=Object(c.a)(ne,2),re=oe[0],le=oe[1],be=Object(o.useState)(!1),Ee=Object(c.a)(be,2),ve=Ee[0],je=Ee[1],Se=Object(o.useState)({r:"193",g:"230",b:"255",a:"100"}),ke=Object(c.a)(Se,2),Ce=ke[0],Te=ke[1],Pe=Object(o.useState)([]),ze=Object(c.a)(Pe,2),Le=ze[0],Be=(ze[1],Object(o.useState)({})),He=Object(c.a)(Be,2),Ye=He[0],Ve=(He[1],Object(o.useState)(!0)),We=Object(c.a)(Ve,2),Me=(We[0],We[1]),_e=r.a.useState([]),Ue=Object(c.a)(_e,2),Ge=Ue[0],qe=Ue[1],Ke=Object(o.useState)({value:!1,msg:""}),Xe=Object(c.a)(Ke,2),$e=Xe[0],Qe=Xe[1],Ze=Object(o.useState)([]),et=Object(c.a)(Ze,2),tt=et[0],at=et[1],nt=Object(o.useState)(!1),ot=Object(c.a)(nt,2),rt=(ot[0],ot[1]),lt=Object(o.useRef)(null),it=Object(o.useState)(null),ct=Object(c.a)(it,2),st=ct[0],dt=ct[1],ut=Object(o.useState)(!1),mt=Object(c.a)(ut,2),gt=mt[0],pt=mt[1],bt=Object(o.useState)({key:"",value:""}),ft=Object(c.a)(bt,2),ht=ft[0],Et=ft[1],yt=function(){pt(!1)},vt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log(t),fetch("".concat(Ae,"/api/update-elements"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),file:t.id,isDelete:a,elements:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e.elements),S(e.elements)}))},Ot=function(){var e=Object(ce.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(se.a)({},t)).type=l,a.animated=!1,e.next=5,Object(xe.f)(a,j);case 5:return n=e.sent,e.next=8,S(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(ce.a)(ie.a.mark((function e(t,a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&A(a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),jt=function e(t,a){return Object(xe.i)(t,a).reduce((function(t,n){return[].concat(Object(d.a)(t),[n],Object(d.a)(e(n,a)))}),[])},St=function(){var e=Object(ce.a)(ie.a.mark((function e(t,a){var n,o,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===s&&a.data.isCollapsable&&(n=Object(d.a)(j),(o=Object(xe.i)(a,j)).length>0&&(r=jt(a,j),console.log(r),console.log(o),o[0].isHidden?o.map((function(e){var t=Object(se.a)({},e);t.isHidden=!1,console.log(t),n=n.map((function(a){return a.id!==e.id?(a.hasOwnProperty("target")&&a.target===e.id&&(a.isHidden=!1),a):t}))})):r.map((function(e){var t=Object(se.a)({},e);t.isHidden=!0,console.log(t),n=n.map((function(a){return a.id!==e.id?(a.hasOwnProperty("target")&&a.target===e.id&&(a.isHidden=!0),a):t}))})),console.log(n),S(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){fetch("".concat(Ae,"/api/get-user-info"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session")}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("testtttttttttt",e);var a=[],n=JSON.parse(e.elements);a=0===n.length?[]:n.hasOwnProperty(t.id)?n[t.id]:[],console.log(a),S(a),at(JSON.parse(e.tags))}))}),[t]);var wt,kt=function(){ae(!1)},Ct=function(){var e=Object(ce.a)(ie.a.mark((function e(){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Object(d.a)(j)).map((function(e){if(e.id===T.id&&!T.data.tags.includes(re)){var t=Object(d.a)(T.data.tags);t.push(re),T.data.tags=t}})),e.next=4,S(t);case 4:It(t),U(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(ce.a)(ie.a.mark((function e(){var a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=j.filter((function(e){return e.id!==T.id})),null!==t&&(Object(se.a)({},t).elements=a),S(a),vt(a,t),A({});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=function(){return"randomnode_".concat(+new Date+Math.random())},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=Object(d.a)(e),n=Object(se.a)({},t);n.elements=a,S(a),vt(a,t)},Nt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:100,y:0},o=j?Object(d.a)(j):[];o.push({id:At(),node:t.id,type:e,data:{title:"title",description:"special"===e?[{key:"Key",value:"Value"}]:null,color:a,isCollapsable:!0,hasAnimatedEdge:!1,hasArrowEdge:!1,tags:[]},targetPosition:"horizontal"===v?"left":"top",sourcePosition:"horizontal"===v?"right":"bottom",isHidden:!1,position:n});var r=Object(se.a)({},t);r.elements=o,S(o)},Rt=X()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(Ce.r,", ").concat(Ce.g,", ").concat(Ce.b,", ").concat(Ce.a,")")},swatch:{padding:"5px",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),Ft=function(e){var t;return console.log(e),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(console.log("yayyyyyyyyyyyyy"),3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),{r:(t="0x"+t.join(""))>>16&255,g:t>>8&255,b:255&t,a:1}):{r:"193",g:"230",b:"255",a:"100"}},Dt=function(e){var t=e.split(","),a=[];return t.map((function(e){var t=e.split(":");a.push({key:t[0],value:t[1]})})),a};console.log("elements",j),0===j.length?wt=[]:(console.log(j,"***********************88"),(wt=j.filter((function(e){return e.node===t.id||e.source}))).sort((function(e,t){if(e.hasOwnProperty("data")&&t.hasOwnProperty("data"))return parseInt(e.id.slice(11,24))-parseInt(t.id.slice(11,24))}))),s||(wt=Ie(wt,"vertical"===v?"TB":"LR")),console.log(wt),console.log(j);var Jt=Ne();return null===t?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{container:!0,spacing:3,style:{width:"80%"}},r.a.createElement(u.a,{item:!0,xs:4,style:{textAlign:"start"}},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(N.a,null),style:{textAlign:"start",marginTop:20},onClick:function(){return ae(!0)}},"New Node"),r.a.createElement(J.a,{open:te,onClose:kt,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title",style:{textAlign:"center"}},"Select a Shape"),r.a.createElement(z.a,null,r.a.createElement(u.a,{container:!0,direction:"column",spacing:1},r.a.createElement(u.a,{container:!0,direction:"row",spacing:1},r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{onClick:function(){Nt("special"),ae(!1)}},r.a.createElement("div",{style:{background:"#ADD8E6",color:"black",padding:10,border:"1px solid black",width:100,height:10,borderRadius:"10px 10px 0px 0px",textAlign:"center",cursor:"pointer"}}),r.a.createElement("div",{style:{background:"white",border:"1px solid black",color:"black",padding:10,width:100,height:40,borderRadius:"0px 0px 10px 10px",textAlign:"center",marginRight:"20px",cursor:"pointer"}}))),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"90px",width:"130px",borderRadius:"50px",marginLeft:"10px",cursor:"pointer"},onClick:function(){Nt("oval"),ae(!1)}}))),r.a.createElement(u.a,{container:!0,direction:"row",spacing:1,style:{paddingTop:"30px",paddingBottom:"20px"}},r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"80px",width:"130px",borderRadius:"10px",cursor:"pointer"},onClick:function(){Nt("rectangle"),ae(!1)}})),r.a.createElement(u.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"80px",width:"80px",borderRadius:"5px",transform:"rotate(45deg)",marginLeft:"30px",cursor:"pointer"},onClick:function(){Nt("diamond"),ae(!1)}})))))))),r.a.createElement(u.a,{item:!0,xs:2,style:{textAlign:"center"}},r.a.createElement(m.a,{variant:"h6",gutterBottom:!0,style:{paddingTop:10,fontWeight:"bold"}},"Project: ".concat(t.parentId)),r.a.createElement(m.a,{variant:"h6",gutterBottom:!0},"Sub Process: ".concat(t.text))),r.a.createElement(u.a,{item:!0,xs:6,style:{textAlign:"center"}},r.a.createElement(m.a,{component:"div"},r.a.createElement(u.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:90}},r.a.createElement(u.a,{item:!0},"View"),r.a.createElement(u.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:s,onChange:function(){Me(!0),i(!s)},name:"checked"})),r.a.createElement(u.a,{item:!0},"Edit"),s&&r.a.createElement(p.a,{variant:"contained",color:"primary",style:{marginLeft:60},onClick:function(){It(Object(d.a)(j))}},"Save"),r.a.createElement(p.a,{variant:"contained",color:"primary",style:{marginLeft:s?10:60},startIcon:r.a.createElement(fe.a,null),onClick:function(){Q(!0)}},"Import CSV"),r.a.createElement(he.a,{clearOnUnmount:!0,filesLimit:1,dialogTitle:r.a.createElement(r.a.Fragment,null,console.log($e),$e.value&&r.a.createElement(we.a,{severity:"error"},$e.msg),r.a.createElement("span",null,"Upload file"),r.a.createElement(g.a,{style:{right:"12px",top:"8px",position:"absolute"},onClick:function(){return Q(!1)}},r.a.createElement(ye.a,null))),acceptedFiles:[".csv"],fileObjects:Ge,cancelButtonText:"cancel",showAlerts:["error","info"],submitButtonText:"submit",maxFileSize:5e6,open:K,onAdd:function(e){console.log("onAdd",e),0===Ge.length&&qe([].concat(Ge,e))},onDelete:function(e){var t=Object(d.a)(Ge).filter((function(t){return t!==e}));qe(t),console.log("onDelete",e)},onClose:function(){return Q(!1)},onSave:function(){console.log(Ge[0]),Oe.a.parse(Ge[0].file,{complete:function(e){var a=e.data,n=[],o={},r={},l=[],i={},c=[];if((a=a.slice(1)).map((function(e){var a=function(e){if(console.log(tt),0===e.length)return[];var t=e.split(",");return 0===tt.length?{value:!0,msg:"One or more of the tags provided does not exist."}:(t.map((function(e){if(!tt.includes(e))return{value:!0,msg:"One or more of the tags provided does not exist."}})),t)}(e[4]);if(console.log(a,"7777777777777777777"),console.log(e[5]),["special","oval","rectangle","diamond"].includes(e[5].toLowerCase()))if(Array.isArray(a)){if(o[e[0]]=At(),n.push({id:o[e[0]],node:t.id,type:e[5],data:{title:e[1],description:0===e[2].length?null:Dt(e[2]),color:e[3].startsWith("#")?Ft(e[3]):{r:"193",g:"230",b:"255",a:"100"},tags:a,isCollapsable:"TRUE"===e[6]},isHidden:!1,position:{x:0,y:0}}),"TRUE"===e[8]&&l.push(o[e[0]]),"step"===e[9]?i[o[e[0]]]="step":i[o[e[0]]]="curved","TRUE"===e[10]&&c.push(o[e[0]]),console.log(n),e[7].length>0&&e[7].includes(",")){var s=e[7].split(",");r[e[0]]=s}}else console.log(a),Qe({value:!0,msg:"One or more of the tags provided does not exist."});else console.log("test"),Qe({value:!0,msg:"A type of shape in the file does not exist."})})),console.log(n),console.log("Finished:",e.data),console.log("onSave",Ge),console.log(n.length),n.length===a.length){for(var s in console.log(o),console.log(r),r)if(r.hasOwnProperty(s))if(Array.isArray(r[s]))r[s].map((function(e){var t=Object(xe.f)({animated:!!l.includes(o[s]),type:i[o[s]],arrowHeadType:c.includes(o[s])?"arrowclosed":null,source:o[s],target:o[e]},n);console.log(t),n=t}));else{var d=Object(xe.f)({animated:!!l.includes(o[s]),type:i[o[s]],arrowHeadType:c.includes(o[s])?"arrowclosed":null,source:o[s],target:o[r[s]]},n);console.log(d),n=d}var u=Ie(n);S(u),It(u),console.log(n),rt(!0),Q(!1)}}})},showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:Jt.previewChip}},showFileNamesInPreview:!0}),r.a.createElement(ue.a,{open:$e.value,autoHideDuration:5e3,onClose:function(){return Qe({value:!1,msg:""})}},r.a.createElement(we.a,{onClose:function(){return Qe({value:!1,msg:""})},severity:"error"},$e.msg)))))),r.a.createElement(b.a,{orientation:"horizontal"}),r.a.createElement(xe.e,null,r.a.createElement("div",{className:"reactflow-wrapper",ref:lt},r.a.createElement(xe.g,{nodeTypes:{special:Re,oval:Fe,rectangle:De,diamond:Je},elements:0!==Object.keys(Ye).length?Le:wt,onElementsRemove:function(){var e=j.filter((function(e){return e.id!==T.id}));Object(se.a)({},t).elements=e,S(e),It(e)},onNodeDoubleClick:xt,onElementClick:St,onDrop:function(e){e.preventDefault();var t=lt.current.getBoundingClientRect(),a=e.dataTransfer.getData("application/reactflow"),n=st.project({x:e.clientX-t.left,y:e.clientY-t.top});Nt(a,n)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onNodeDragStop:function(e,t){var a=Object(d.a)(j);a.map((function(e){e.id===t.id&&(e.position=t.position)})),S(a)},connectionLineType:l,onPaneContextMenu:function(){return ae(!0)},onConnect:Ot,onLoad:function(e){dt(e),e.fitView()},snapToGrid:!1,paneMoveable:!0,style:{height:"90vh",width:s?"84%":"95%"}},r.a.createElement(xe.d,{nodeStrokeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"special"===e.type?"#0041d0":"oval"===e.type?"#008000":"rectangle"===e.type?"#8A2BE2":"diamond"===e.type?"#00008b":"output"===e.type?"#ff0072":"default"===e.type?"#1a192b":"#eee"},nodeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"#fff"},nodeBorderRadius:2}),r.a.createElement(xe.b,null),r.a.createElement(xe.a,{color:"#aaa",gap:16})))),s&&r.a.createElement(me.a,{variant:"permanent",anchor:"right",style:{textAlign:"center"}},r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"center",width:250,overflow:"hidden"}},0===Object.keys(T).length?r.a.createElement(m.a,{variant:"h6",gutterBottom:!0,style:{paddingTop:380,paddingLeft:10,paddingRight:10}},"Double-click on any item to get a detailed view."):r.a.createElement("div",null,r.a.createElement(m.a,{variant:"h6",style:{marginTop:40}},"Edit Title"),r.a.createElement(D.a,{name:T.id,defaultValue:T.data.title,margin:"normal",onChange:function(e){var t=Object(d.a)(j);t.map((function(t){var a;t.id===e.target.name&&(a=e.target.value.length>=27?e.target.value.substring(0,27):e.target.value,t.data.title=a)})),S(t),It(t)},disabled:!F,style:{width:"90%"},value:T.data.title,InputProps:{endAdornment:r.a.createElement(ge.a,{position:"end"},r.a.createElement(g.a,{onClick:function(){B(!0)}},r.a.createElement(V.a,null)))}}),"special"===T.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"h6",style:{marginTop:20}},"Add Field"),r.a.createElement(p.a,{variant:"outlined",startIcon:r.a.createElement(N.a,null),color:"secondary",onClick:function(){return pt(!0)}},"Add"),r.a.createElement(J.a,{open:gt,onClose:yt,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Add New Field"),r.a.createElement(z.a,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(D.a,{style:{width:"40%",marginRigh:10},label:"Key",id:"outlined-size-small",defaultValue:"Key",variant:"outlined",size:"small",onChange:function(e){var t=Object(se.a)({},ht);t.key=e.target.value,Et(t)}}),r.a.createElement(D.a,{style:{width:"40%",marginLeft:10},label:"Value",id:"outlined-size-normal",defaultValue:"Value",onChange:function(e){var t=Object(se.a)({},ht);t.value=e.target.value,Et(t)},variant:"outlined",size:"small"}))),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:yt,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(){var e=Object(d.a)(j);e.map((function(e){e.id===T.id&&e.data.description.push(ht)})),S(e),It(e),pt(!1)},color:"primary"},"Add")))),r.a.createElement(b.a,{style:{marginTop:10}}),r.a.createElement(p.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(N.a,{size:"medium"}),onClick:function(){return U(!0)},style:{marginTop:20}},"Add Tag"),r.a.createElement(J.a,{open:_,onClose:kt,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,{id:"form-dialog-title"},"Add Tag"),r.a.createElement(z.a,null,r.a.createElement(E.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:re,onChange:function(e){le(e.target.value)},fullWidth:!0,displayEmpty:!0},r.a.createElement(y.a,{value:""},r.a.createElement("em",null,"None")),null!==localStorage.getItem("tags")&&JSON.parse(localStorage.getItem("tags")).length>0?JSON.parse(localStorage.getItem("tags")).map((function(e){return r.a.createElement(y.a,{value:e},e)})):r.a.createElement("div",null))),r.a.createElement(P.a,null,r.a.createElement(p.a,{onClick:kt,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:Ct,color:"primary"},"Add"))),r.a.createElement(b.a,{style:{marginTop:20,marginBottom:10}}),T.data.tags.length>0&&T.data.tags.map((function(e){return r.a.createElement(pe.a,{label:e,color:"secondary",style:{marginBottom:10}})})),r.a.createElement(b.a,{orientation:"horizontal",style:{marginTop:10}}),r.a.createElement(m.a,{component:"div"},r.a.createElement(u.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(u.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:T.data.isCollapsable,onChange:function(){console.log("YYYYYYYYYYYYYGUKB");var e=Object(d.a)(j);e.map((function(e){e.id===T.id&&(console.log(!e.data.isCollapsable),e.data.isCollapsable=!e.data.isCollapsable,A(e))})),It(e)},name:"checked"})),r.a.createElement(u.a,{item:!0},"Collapsable"))),r.a.createElement(b.a,{orientation:"horizontal",style:{marginTop:10}}),r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"center",maxHeight:"100%",overflow:"auto"}},r.a.createElement("div",{style:{paddingLeft:20,paddingTop:20}},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(m.a,{variant:"subtitle1",gutterBottom:!0},"Node Color"),r.a.createElement("div",{style:Rt.swatch,onClick:function(){je(!ve)}},r.a.createElement("div",{style:Rt.color})),ve?r.a.createElement("div",{style:Rt.popover},r.a.createElement("div",{style:Rt.cover,onClick:function(){je(!1)}}),r.a.createElement($.a,{color:Ce,onChange:function(e){Te(e.rgb);var t=Object(d.a)(j);t.map((function(t){t.id===T.id&&(t.data.color=e.rgb)})),S(t),It(t)}})):null))),r.a.createElement(b.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(u.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement(f.a,{variant:"outlined",style:{width:150,marginTop:30,marginLeft:20}},r.a.createElement(h.a,{id:"demo-simple-select-outlined-label"},"EdgeType"),r.a.createElement(E.a,{style:{fontSize:15},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){var t=Object(xe.h)([T],j),a=Object(d.a)(j);t.map((function(t){a.map((function(a,n){Object(xe.j)(a)&&a.id===t.id&&(console.log(a),a.type=e.target.value)}))})),S(a),It(a)},variant:"outlined",label:"EdgeType",defaultValue:"smoothstep",displayEmpty:!0},r.a.createElement(y.a,{value:"smoothstep"},"Step Edge"),r.a.createElement(y.a,{value:"default"},"Curved Edge")))),r.a.createElement(m.a,{component:"div"},r.a.createElement(u.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(u.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:T.data.hasAnimatedEdge,onChange:function(e){var t,a=Object(xe.h)([T],j),n=Object(d.a)(j);a.map((function(e){n.map((function(a,n){Object(xe.j)(a)?a.id===e.id&&(console.log(a),a.animated=!a.animated):a.id===T.id&&(t=n)}))})),n[t].data.hasAnimatedEdge=!n[t].data.hasAnimatedEdge,S(n),It(n)},name:"checked"})),r.a.createElement(u.a,{item:!0},"Animated"))),r.a.createElement(m.a,{component:"div"},r.a.createElement(u.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(u.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:T.data.hasArrowEdge,onChange:function(){var e,t=Object(xe.h)([T],j),a=Object(d.a)(j);t.map((function(t){a.map((function(a,n){Object(xe.j)(a)?a.id===t.id&&(console.log(a),a.markerEndId="arrowclosed"):a.id===T.id&&(e=n)}))})),a[e].data.hasArrowEdge=!a[e].data.hasArrowEdge,console.log(a[e].data.hasArrowEdge),S(a),It(a)},name:"checked"})),r.a.createElement(u.a,{item:!0},"Arrow"))),r.a.createElement(b.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(g.a,{style:{color:"red"},onClick:function(){return Tt()}},r.a.createElement(C.a,null))))))},ze=a(474),Le=a.n(ze),Be=a(475);var He=function(){var e=Object(o.useState)(null===localStorage.getItem("current")?{}:JSON.parse(localStorage.getItem("current"))),t=Object(c.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(!1),i=Object(c.a)(l,2),s=i[0],d=i[1],m=Object(o.useState)({r:"193",g:"230",b:"255",a:"100"}),g=Object(c.a)(m,2),p=g[0],b=g[1],f=Object(o.useState)("smoothstep"),h=Object(c.a)(f,2),E=h[0],y=h[1],v=Object(o.useState)(!1),O=Object(c.a)(v,2),x=O[0],j=O[1],S=Object(o.useState)("vertical"),w=Object(c.a)(S,2),k=w[0],C=w[1];return Object(o.useEffect)((function(){if(null===localStorage.getItem("session")){var e=Le.a.sign({userId:Object(Be.v4)()},"secretkey",{expiresIn:"1h",algorithm:"HS256"});!function(e){fetch("".concat("https://flowchart-backend.herokuapp.com","/api/update-session"),{method:"POST",body:JSON.stringify({session_id:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}(e),localStorage.setItem("session",e)}}),[]),r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:5,sm:4,md:2,lg:2},r.a.createElement(re,{currentFile:a,setCurrentFile:n,setCanvasVisibility:function(e){return d(e)},setEdgeType:y,setSelectedColor:b,isEditMode:x,setOrientation:C,orientation:k})),s&&r.a.createElement(u.a,{item:!0,xs:7,sm:8,md:10,lg:10},r.a.createElement(Pe,{orientation:k,currentFile:a,setCurrentFile:n,isEditMode:x,setEditMode:j,selectedColor:p,edgeType:E})))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(He,null)),document.getElementById("root"))}},[[496,1,2]]]);
//# sourceMappingURL=main.87d49640.chunk.js.map