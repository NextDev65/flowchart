(this.webpackJsonpflowchart=this.webpackJsonpflowchart||[]).push([[0],{501:function(e,t,a){e.exports=a(924)},506:function(e,t,a){},507:function(e,t,a){},807:function(e,t){},809:function(e,t){},823:function(e,t){},825:function(e,t){},853:function(e,t){},855:function(e,t){},856:function(e,t){},861:function(e,t){},863:function(e,t){},869:function(e,t){},871:function(e,t){},890:function(e,t){},902:function(e,t){},905:function(e,t){},924:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),c=(a(506),a(9)),i=(a(507),a(43)),s=a(23),d=a(972),u=a(117),m=a(925),g=a(984),p=a(985),f=a(979),b=a(980),h=a(997),E=a(986),v=a(927),y=a(1003),O=a(987),x=a(998),j=a(464),C=a.n(j),k=a(113),S=a.n(k),w=a(465),N=a.n(w),T=a(114),A=a.n(T),I=a(452),R=a.n(I),F=(a(611),a(999)),L=a(973),z=a(983),M=a(976),D=a(975),B=a(466),P=a.n(B),J=a(216),H=a.n(J),Y=a(982),W=a(928),V=a(988),_=a(990),X=a(989),U=a(1e3),q=a(6),G=a.n(q),K=a(159),$=a(995),Q=a(971),Z=a(462),ee=a.n(Z),te=a(463),ae=a.n(te),ne="https://flowchart-backend.herokuapp.com",re=function(e){var t,a=e.currentFile,o=e.setCurrentFile,l=e.setCanvasVisibility,j=e.setEdgeType,k=e.setSelectedColor,w=e.isEditMode,T=e.setOrientation,I=e.orientation,B=Object(n.useState)([]),J=Object(c.a)(B,2),q=J[0],Z=J[1],te=Object(n.useState)(""),re=Object(c.a)(te,2),oe=re[0],le=re[1],ce=Object(n.useState)(""),ie=Object(c.a)(ce,2),se=ie[0],de=ie[1],ue=r.a.useState(!1),me=Object(c.a)(ue,2),ge=me[0],pe=me[1],fe=Object(n.useState)(!1),be=Object(c.a)(fe,2),he=be[0],Ee=be[1],ve=Object(n.useState)({value:!1,msg:""}),ye=Object(c.a)(ve,2),Oe=ye[0],xe=ye[1],je=Object(n.useState)([]),Ce=Object(c.a)(je,2),ke=Ce[0],Se=Ce[1],we=Object(n.useState)({}),Ne=Object(c.a)(we,2),Te=Ne[0],Ae=Ne[1],Ie=Object(n.useState)(""),Re=Object(c.a)(Ie,2),Fe=Re[0],Le=Re[1],ze=Object(n.useState)([]),Me=Object(c.a)(ze,2),De=Me[0],Be=Me[1],Pe=r.a.useState(!1),Je=Object(c.a)(Pe,2),He=Je[0],Ye=Je[1],We=Object(n.useState)(!1),Ve=Object(c.a)(We,2),_e=Ve[0],Xe=Ve[1],Ue=Object(n.useState)(""),qe=Object(c.a)(Ue,2),Ge=qe[0],Ke=qe[1],$e=Object(n.useState)(""),Qe=Object(c.a)($e,2),Ze=Qe[0],et=Qe[1],tt=Object(n.useState)({}),at=Object(c.a)(tt,2),nt=at[0],rt=at[1],ot=Object(n.useState)(!1),lt=Object(c.a)(ot,2),ct=lt[0],it=lt[1],st=Object(n.useState)(!1),dt=Object(c.a)(st,2),ut=dt[0],mt=dt[1],gt=Object(n.useState)({r:"193",g:"230",b:"255",a:"100"}),pt=Object(c.a)(gt,2),ft=pt[0],bt=pt[1],ht=Object(n.useState)(0),Et=Object(c.a)(ht,2),vt=Et[0],yt=Et[1];Object(n.useEffect)((function(){fetch("".concat(ne,"/api/get-user-info"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session")}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t,a,n;console.log("testtttttttttt",e),t=Array.isArray(e.tags)?e.tags:JSON.parse(e.tags).hasOwnProperty("tags")?JSON.parse(e.tags).tags:JSON.parse(e.tags),a=Array.isArray(e.names)?e.names:Array.isArray(JSON.parse(e.names))?JSON.parse(e.names):JSON.parse(e.names).names,n=Array.isArray(e.files)?e.files:Array.isArray(JSON.parse(e.files))?JSON.parse(e.files):JSON.parse(e.files).files,console.log(t),console.log(a),console.log(n),Be(t),Se(a),Z(JSON.parse(e.files))}))}),[]);var Ot=function(){le(""),de(""),Ee(!1),Xe(!1),Ke(!1),et(!1),rt(!1),xe({}),ge?pe(!1):Ye(!1)},xt=function(e){console.log("updating database...."),fetch("".concat(ne,"/api/update-files"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),files:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e,"ndsojdmsio99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"),Z(JSON.parse(e.files))}))},jt=function(e){console.log("updating database...."),fetch("".concat(ne,"/api/update-names"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),names:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Se(e.names)}))},Ct=function(e){console.log("updating database...."),fetch("".concat(ne,"/api/update-tags"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),tags:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(JSON.parse(e.tags)),Be(JSON.parse(e.tags))}))};Object(n.useEffect)((function(){!function(e){if(q.length>0)e.filter((function(e){return e.hasOwnProperty("parentId")||e.hasOwnProperty("elements")}));q.length&&!ct?l(!0):l(!1)}(q)}),[q,l]);var kt=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"},St=G()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(ft.r,", ").concat(ft.g,", ").concat(ft.b,", ").concat(ft.a,")")},swatch:{padding:"5px",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",null,r.a.createElement($.a,{value:vt,onChange:function(e,t){console.log(t),yt(t)},variant:"fullWidth",indicatorColor:"primary",tabItemContainerStyle:{width:"100%"},textColor:"primary","aria-label":"icon label tabs example"},r.a.createElement(Q.a,{icon:r.a.createElement(ee.a,null),label:"Files"}),r.a.createElement(Q.a,{icon:r.a.createElement(ae.a,null),label:"Shapes"})),0===vt?r.a.createElement(d.a,{item:!0,xs:12,style:{height:"70vh",textAlign:"center",borderRight:"solid #D5D5D5 1px"}},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0,style:{padding:20}},"Folder Structures"),r.a.createElement(d.a,{container:!0,spacing:0,justifyContent:"center"},r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(m.a,{"aria-label":"Add Folder",onClick:function(){pe(!0)},color:"primary"},r.a.createElement(C.a,{fontSize:"medium"}))),r.a.createElement(L.a,{open:ge,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Create New Folder"),r.a.createElement(M.a,null,r.a.createElement(F.a,{error:!!Oe.value,autoFocus:!0,margin:"dense",id:"folder",label:"Folder Name",helperText:Oe.value&&Oe.msg,onChange:function(e){le(e.target.value)},fullWidth:!0})),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){if(0===oe.length)xe({value:!0,msg:"Folder name can not be empty."});else if(ke.includes(oe))xe({value:!0,msg:"Folder must be unique."});else{var e=q.length>0?Object(s.a)(q):[];e.push({id:oe,text:oe,expanded:!0}),Z(e),xt(e),localStorage.setItem("files",JSON.stringify(e));var t=0===ke.length?[]:Object(s.a)(ke);t.push(oe),console.log(oe),Se(t),jt(t),localStorage.setItem("names",JSON.stringify(t)),xe({}),pe(!1)}},color:"primary"},"Submit"))),r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(m.a,{"aria-label":"Add File",color:"primary",onClick:function(){Ye(!0)},disabled:!a.hasOwnProperty("expanded")},r.a.createElement(N.a,{fontSize:"medium"}))),r.a.createElement(L.a,{open:He,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Create New File"),r.a.createElement(M.a,null,r.a.createElement(F.a,{error:!!Oe.value,autoFocus:!0,margin:"dense",id:"file",label:"File Name",onChange:function(e){de(e.target.value)},helperText:Oe.value&&Oe.msg,fullWidth:!0})),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){if(0===se.length)xe({value:!0,msg:"File name can not be empty."});else if(ke.includes(se))xe({value:!0,msg:"File name must be unique."});else{var e=Object(s.a)(q);if(e[0].hasOwnProperty("parentId"))xe({value:!0,msg:"You must have folder to create a file."});else{e.push({id:se,text:se,parentId:a.id,elements:[]}),Z(e),xt(e);var t=0===ke.length?[]:Object(s.a)(ke);t.push(se),Se(t),jt(t),xe({}),Ye(!1)}}},color:"primary"},"Submit"))),r.a.createElement(d.a,{item:!0,xs:4},r.a.createElement(m.a,{"aria-label":"Delete",color:"secondary",onClick:function(){if(a.hasOwnProperty("parentId")&&null!==localStorage.getItem("legend")){var e=JSON.parse(localStorage.getItem("legend"));delete e[a.id],localStorage.setItem("legend",JSON.stringify(e))}var t=Object(s.a)(q),n=q.findIndex((function(e){return e===a}));t.splice(n,1);var r=Object(s.a)(ke),l=ke.indexOf(a.id);r.splice(l,1),Se(r),jt(r),xt(t),localStorage.removeItem("current");var c=a.elements.filter((function(e){return a.id!==e.node}));o({}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("updating database...."),fetch("".concat(ne,"/api/update-elements"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),file:a.id,isDelete:t,elements:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}(c,!0)},disabled:0===Object.keys(a).length},r.a.createElement(S.a,{fontSize:"medium"})))),r.a.createElement(p.a,{style:{marginTop:20},orientation:"horizontal"}),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},0===q.length?r.a.createElement("div",null):r.a.createElement(R.a,{searchEnabled:!0,style:{display:"inline-block",paddingLeft:15,paddingTop:15,paddingRight:15,fontSize:18,fontWeight:"normal"},dataStructure:"plain",id:"simple-treeview",items:q,width:"100%",onItemClick:function(e){console.log("ddd",e.itemData.hasOwnProperty("expanded")),e.itemData.hasOwnProperty("expanded")?(it(!0),l(!1)):(localStorage.setItem("current",JSON.stringify(e.itemData)),it(!1),l(!0)),o(e.itemData)}})),r.a.createElement(p.a,{style:{marginTop:20},orientation:"horizontal"}),w&&r.a.createElement(d.a,{container:!0,direction:"column",style:{marginTop:30},spacing:1},r.a.createElement(d.a,{container:!0,direction:"row",spacing:1},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{onDragStart:function(e){return kt(e,"special")},draggable:!0},r.a.createElement("div",{style:{background:"#ADD8E6",color:"black",padding:10,border:"1px solid black",width:50,height:5,borderRadius:"10px 10px 0px 0px",textAlign:"center",marginLeft:20,cursor:"pointer"}}),r.a.createElement("div",{style:{background:"white",border:"1px solid black",color:"black",padding:10,width:50,height:15,borderRadius:"0px 0px 10px 10px",textAlign:"center",marginLeft:20,cursor:"pointer"}}))),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"60px",width:"80px",borderRadius:"50px",cursor:"pointer"},onDragStart:function(e){return kt(e,"oval")},draggable:!0}))),r.a.createElement(d.a,{container:!0,direction:"row",spacing:1,style:{paddingTop:"30px",paddingBottom:"20px"}},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"50px",width:"80px",borderRadius:"10px",cursor:"pointer",marginLeft:20},onDragStart:function(e){return kt(e,"rectangle")},draggable:!0})),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"50px",width:"50px",borderRadius:"5px",transform:"rotate(45deg)",marginLeft:"10px",cursor:"pointer"},onDragStart:function(e){return kt(e,"diamond")},draggable:!0}))))):r.a.createElement(d.a,{item:!0,xs:12,style:{height:"70vh",textAlign:"center",borderRight:"solid #D5D5D5 1px"}},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0,style:{padding:20}},"Shapes Settings"),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement("div",{style:{paddingLeft:20,paddingTop:20}},r.a.createElement(d.a,{item:!0,xs:12,direction:"row"},r.a.createElement(u.a,{variant:"subtitle1",gutterBottom:!0},"Node Color"),r.a.createElement("div",{style:St.swatch,onClick:function(){mt(!ut)}},r.a.createElement("div",{style:St.color})),ut?r.a.createElement("div",{style:St.popover},r.a.createElement("div",{style:St.cover,onClick:function(){mt(!1)}}),r.a.createElement(K.a,{color:ft,onChange:function(e){k(e.rgb),bt(e.rgb)}})):null))),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement(f.a,{variant:"outlined",style:{width:150,marginTop:30,marginLeft:20}},r.a.createElement(b.a,{id:"demo-simple-select-outlined-label"},"EdgeType"),r.a.createElement(h.a,{style:{fontSize:15},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){j(e.target.value)},variant:"outlined",label:"EdgeType",defaultValue:"smoothstep",displayEmpty:!0},r.a.createElement(E.a,{value:"smoothstep"},"Step Edge"),r.a.createElement(E.a,{value:"default"},"Curved Edge")))),!w&&r.a.createElement(f.a,{component:"fieldset",style:{marginTop:30}},r.a.createElement(v.a,{component:"legend"},"Orientation"),r.a.createElement(y.a,{"aria-label":"Orientation",name:"orientation",value:I,onChange:function(e){T(e.target.value)}},r.a.createElement(O.a,{value:"vertical",control:r.a.createElement(x.a,null),label:"Vertical"}),r.a.createElement(O.a,{value:"horizontal",control:r.a.createElement(x.a,null),label:"Horizontal"})))),r.a.createElement(p.a,{orientation:"horizontal"}),r.a.createElement(d.a,{item:!0,xs:12,style:(t={height:"30vh",textAlign:"center",backgroundColor:"#F2F2F2"},Object(i.a)(t,"height","320px"),Object(i.a)(t,"overflowY","scroll"),t)},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0,style:{padding:10}},"Tags"),r.a.createElement(g.a,{onClick:function(){return Ee(!0)},variant:"outlined",color:"primary",startIcon:r.a.createElement(A.a,null)},"New Tag"),r.a.createElement(L.a,{open:he,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Create New Tag"),r.a.createElement(M.a,null,r.a.createElement(F.a,{error:!!Te.value,autoFocus:!0,margin:"dense",id:"tag",label:"Tag Name",helperText:Te.value&&Te.msg,onChange:function(e){Le(e.target.value)},fullWidth:!0})),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){if(0===Fe.length)Ae({value:!0,msg:"Tag name can not be empty."});else if(De.includes(Fe))Ae({value:!0,msg:"Tag must be unique."});else{console.log(De),console.log(Fe);var e=Object(s.a)(De);e.push(Fe),Be((function(e){return Object(s.a)(e).concat([Fe])})),Ct(e),localStorage.setItem("tags",JSON.stringify(e)),Ae({}),Ee(!1),console.log(De)}},color:"primary"},"Submit"))),r.a.createElement(Y.a,null,De.map((function(e){return r.a.createElement(W.a,null,r.a.createElement(V.a,null,r.a.createElement(U.a,null,r.a.createElement(P.a,null))),r.a.createElement(X.a,{primary:e}),r.a.createElement(_.a,null,r.a.createElement(m.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){Ke(e),Xe(!0)}},r.a.createElement(H.a,null)),r.a.createElement(m.a,{edge:"end","aria-label":"delete",color:"primary",onClick:function(){return function(e){var t=Object(s.a)(De),a=De.findIndex((function(t){return t===e}));t.splice(a,1),Be(t),Ct(t),localStorage.setItem("tags",JSON.stringify(t))}(e)}},r.a.createElement(S.a,null))))})),r.a.createElement(L.a,{open:_e,onClose:Ot,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Edit Tag"),r.a.createElement(M.a,null,r.a.createElement(F.a,{error:!!nt.value,autoFocus:!0,type:"text",margin:"dense",id:"tag",defaultValue:Ge,label:"Tag Name",helperText:nt.value&&nt.msg,onChange:function(e){et(e.target.value)},fullWidth:!0})),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:Ot,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){return function(e){if(0===Ze.length)rt({value:!0,msg:"Tag name can not be empty."});else if(De.includes(Ze))rt({value:!0,msg:"Tag must be unique."});else{var t=Object(s.a)(De);t[De.indexOf(e)]=Ze,Be(t),Ct(t),localStorage.setItem("tags",JSON.stringify(t)),rt({}),Xe(!1),Ke(!1),et(!1)}}(Ge)},color:"primary"},"Submit"))))))},oe=a(49),le=a.n(oe),ce=a(115),ie=a(40),se=a(1006),de=a(993),ue=a(481),me=a(1005),ge=a(1007),pe=a(994),fe=a(1004),be=a(467),he=a.n(be),Ee=a(477),ve=a.n(Ee),ye=a(480),Oe=a(217),xe=a.n(Oe),je=a(475),Ce=a.n(je),ke=a(17),Se=a(992),we=a(1001),Ne=a(996),Te=a(284),Ae=a.n(Te);a(802),a(803);function Ie(e){e.source,e.target;var t=e.id,a=e.sourceX,n=e.sourceY,o=e.targetX,l=e.targetY,c=e.sourcePosition,i=e.targetPosition,s=(e.animated,e.style),d=void 0===s?{}:s,u=e.data,m="smoothstep"===u.type?Object(ke.l)({sourceX:a,sourceY:n,sourcePosition:c,targetX:o,targetY:l,targetPosition:i}):Object(ke.h)({sourceX:a,sourceY:n,sourcePosition:c,targetX:o,targetY:l,targetPosition:i});return console.log(i),r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("marker",{className:"react-flow__arrowhead",id:"marker-".concat(t),markerWidth:"25",markerHeight:"30",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},r.a.createElement("polyline",{stroke:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),points:"-5,-4 0,0 -5,4 -5,-4"})),r.a.createElement("marker",{className:"react-flow__arrowhead",id:"marker-start-".concat(t),markerWidth:"25",markerHeight:"30",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},r.a.createElement("polyline",{style:{transform:"rotate(180deg)"},stroke:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),points:"-5,-4 0,0 -5,4 -5,-4"}))),r.a.createElement("path",{id:t,d:m,stroke:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),fill:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")"),className:"react-flow__edge-path",style:Object(ie.a)(Object(ie.a)({},d),{},{stroke:"rgba(".concat(u.color.r,", ").concat(u.color.g,", ").concat(u.color.b,", ").concat(u.color.a,")")}),markerEnd:"url(#marker-".concat(t,")"),markerStart:u.hasArrow&&"url(#marker-start-".concat(t,")")}))}var Re=Object(ke.j)("arrowclosed","my-marker");console.log(Re);var Fe=new Ae.a.graphlib.Graph,Le="https://flowchart-backend.herokuapp.com";Fe.setDefaultEdgeLabel((function(){return{}}));var ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TB",a="LR"===t;return Fe.setGraph({rankdir:t}),e.forEach((function(e){Object(ke.n)(e)?Fe.setNode(e.id,{width:170,height:180}):Fe.setEdge(e.source,e.target)})),Ae.a.layout(Fe),console.log(e,"danhjsubkghbjlncsbugk hjbnudcysbkhjnonubskdgh m"),e.map((function(e){if(Object(ke.n)(e)){var t=Fe.node(e.id);e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-85+Math.random()/1e3,y:t.y-90}}return e}))},Me=Object(Se.a)((function(e){return Object(we.a)({previewChip:{minWidth:160,maxWidth:210}})})),De=function(e){var t,a=e.data,o=Object(n.useRef)(null),l=Object(n.useRef)(null),c=Object(n.useRef)(null),s=Object(n.useRef)(null),m=Object(n.useRef)(null),g=Object(n.useRef)(null),f=Object(n.useRef)(null),b=Object(n.useRef)(null),h=Object(n.useRef)(null),E=Object(n.useRef)(null),v=Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement("div",{ref:o,style:{background:"#f0f0f0",borderColor:"rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")"),width:200,minHeight:10,borderRadius:"10px 10px 0px 0px",textAlign:"center"}},r.a.createElement("div",null),r.a.createElement(u.a,{className:"Typography",variant:"subtitle2",gutterBottom:!0,align:"center",style:{marginTop:"5%"}},a.title)),r.a.createElement(ke.c,{type:"target",id:"1",position:"left",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},isConnectable:!0,onMouseOver:function(e){return o.current&&(o.current.className="rectangle")},onMouseLeave:function(e){return o.current&&(o.current.className="")}}),r.a.createElement(ke.c,{type:"target",id:"2",position:"top",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},isConnectable:!0,onMouseOver:function(e){return o.current&&(o.current.className="rectangle")},onMouseLeave:function(e){return o.current&&(o.current.className="")}}),r.a.createElement(ke.c,{type:"source",id:"3",position:"right",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},isConnectable:!0,onMouseOver:function(e){return o.current&&(o.current.className="rectangle")},onMouseLeave:function(e){return o.current&&(o.current.className="")}}),r.a.createElement(ke.c,{type:"source",id:"4",position:"bottom",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},isConnectable:!0,onMouseOver:function(e){return o.current&&(o.current.className="rectangle")},onMouseLeave:function(e){return o.current&&(o.current.className="")}}),r.a.createElement("div",{style:(t={width:"93%"},Object(i.a)(t,"width",200),Object(i.a)(t,"background","#f0f0f0"),Object(i.a)(t,"border","2px solid rgba(".concat(a.color.r,", ").concat(a.color.g,", ").concat(a.color.b,", ").concat(a.color.a,")")),Object(i.a)(t,"color","black"),Object(i.a)(t,"padding",10),Object(i.a)(t,"minHeight",40),Object(i.a)(t,"borderRadius","0px 0px 10px 10px"),Object(i.a)(t,"textAlign","center"),t)},r.a.createElement("div",{style:{width:"93%",minHeight:"40px",textAlign:"center",marginLeft:10,marginRight:300}},1!=a.description.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{ref:s,style:{zIndex:2,border:"0px solid",color:"#9F9F9F",fontSize:18,marginTop:"0%",marginLeft:"30%",position:"absolute",backgroundColor:"transparent"},onClick:function(){"hide"==l.current.className?(m.current.className="",l.current.className="",c.current.className="",s.current.className="rotate270",g.current.className="hide"):(m.current.className="hide",l.current.className="hide",c.current.className="hide",s.current.className="rotateNone",g.current.className="")}},"\u25b2"),r.a.createElement("div",{ref:m},r.a.createElement(d.a,{container:!0,direction:"row",spacing:1,justifyContent:"center",alignItems:"center"},r.a.createElement("div",{ref:l,style:{textAlign:"center"}},a.description.map((function(e){if("1"===e.section)return r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc,style:{zIndex:2}},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.key)))}))),r.a.createElement(p.a,{orientation:"vertical",style:{minHeight:50,textAlign:"center"},flexItem:!0}),r.a.createElement("div",{ref:c,style:{textAlign:"center"}},a.description.map((function(e){if("1"===e.section)return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.value1))))}))),r.a.createElement(p.a,{orientation:"vertical",style:{minHeight:50,textAlign:"center"},flexItem:!0}),r.a.createElement("div",{ref:c,style:{textAlign:"center"}},a.description.map((function(e){if("1"===e.section)return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.value2))))}))))),r.a.createElement("div",{ref:g,className:"hide",style:{marginTop:"auto"}},"Properties"),a.description.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{ref:h,style:{zIndex:2,border:"0px solid",color:"#9F9F9F",fontSize:18,marginTop:"0%",marginLeft:"30%",position:"absolute",backgroundColor:"transparent"},onClick:function(){"hide"==f.current.className?(E.current.className="",f.current.className="",b.current.className="",h.current.className="rotate270",v.current.className="hide"):(E.current.className="hide",f.current.className="hide",b.current.className="hide",h.current.className="rotateNone",v.current.className="")}},"\u25b2"),r.a.createElement("div",{ref:E},r.a.createElement(d.a,{container:!0,direction:"row",spacing:1,justifyContent:"center",alignItems:"center",style:{borderTop:"2px solid #C1E5FC",marginTop:"2%"}},r.a.createElement("div",{ref:f,style:{textAlign:"center"}},a.description.map((function(e){if("2"===e.section)return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.key))))}))),r.a.createElement(p.a,{orientation:"vertical",style:{minHeight:50,textAlign:"center"},flexItem:!0}),r.a.createElement("div",{ref:b,style:{textAlign:"center"}},a.description.map((function(e){if("2"===e.section)return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.value1))))}))),r.a.createElement(p.a,{orientation:"vertical",style:{minHeight:50,textAlign:"center"},flexItem:!0}),r.a.createElement("div",{ref:b,style:{textAlign:"center"}},a.description.map((function(e){if("2"===e.section)return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{arrow:!0,title:e.fieldDesc},r.a.createElement("div",null,r.a.createElement("button",{style:{zIndex:2,position:"relative",paddingTop:8,border:0}},e.value2))))}))))),r.a.createElement("div",{ref:v,className:"hide",style:{marginTop:"auto",borderTop:"2px solid #C1E5FC"}},"Properties"))))))},Be=function(e){var t=e.data,a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:a,style:{background:"#f0f0f0",borderColor:"rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),width:150,minHeight:70,textAlign:"center",borderRadius:"50px"}},r.a.createElement("div",null),r.a.createElement(u.a,{className:"Typography",variant:"subtitle2",gutterBottom:!0,align:"center",style:{marginTop:"15%"}},t.title)),r.a.createElement(ke.c,{type:"target",id:"1",position:"left",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"2",position:"right",isConnectable:!0,style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},connectionMode:"loose"}),r.a.createElement(ke.c,{type:"target",id:"3",position:"top",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"4",position:"bottom",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},isConnectable:!0,connectionMode:"loose"}))},Pe=function(e){var t=e.data,a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:a,style:{background:"#f0f0f0",borderColor:"rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),color:"black",padding:10,border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),width:150,minHeight:70,textAlign:"center",borderRadius:"10px"}},r.a.createElement("div",null),r.a.createElement(u.a,{className:"Typography",variant:"subtitle2",gutterBottom:!0,align:"center",style:{marginTop:"15%"}},t.title)),r.a.createElement(ke.c,{type:"target",id:"1",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},position:"left",onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"2",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},position:"right",isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"target",id:"3",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},position:"top",isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"4",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return a.current&&(a.current.className="rectangle")},onMouseLeave:function(e){return a.current&&(a.current.className="")},position:"bottom",isConnectable:!0,connectionMode:"loose"}))},Je=function(e){var t=e.data,a=Object(n.useState)(!0),o=Object(c.a)(a,2),l=(o[0],o[1],Object(n.useRef)(null));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l,style:{width:"80px",position:"absolute",height:"80px",padding:20,marginTop:"10%",marginLeft:"10%",zIndex:"0",backgroundColor:"#f0f0f0",border:"2px solid rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")"),transform:"rotate(-45deg)",borderRadius:"10px"}}," ",r.a.createElement("div",null),r.a.createElement(u.a,{className:"Typography",variant:"subtitle2",gutterBottom:!0,align:"center",style:{marginTop:"30%",transform:"rotate(45deg)"}},t.title)),r.a.createElement("div",{style:{backgroundColor:"transparent",marginTop:"-5%"}},r.a.createElement(ke.c,{type:"target",id:"1",position:"left",style:{backgroundColor:"transparent",marginRight:"5%",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return l.current&&(l.current.className="my-container")},onMouseLeave:function(e){return l.current&&(l.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"2",position:"right",style:{backgroundColor:"transparent",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return l.current&&(l.current.className="my-container")},onMouseLeave:function(e){return l.current&&(l.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"target",id:"3",position:"top",style:{backgroundColor:"transparent",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return l.current&&(l.current.className="my-container")},onMouseLeave:function(e){return l.current&&(l.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement(ke.c,{type:"source",id:"4",position:"bottom",style:{backgroundColor:"transparent",border:"0px",padding:"23%",zIndex:1},onMouseOver:function(e){return l.current&&(l.current.className="my-container")},onMouseLeave:function(e){return l.current&&(l.current.className="")},isConnectable:!0,connectionMode:"loose"}),r.a.createElement("div",{style:{backgroundColor:"transparent",color:"black",width:100,minHeight:100,textAlign:"center",borderRadius:"5px"}},r.a.createElement("div",{style:{transform:"rotate(-45deg)",marginTop:"10%",zIndex:0}},r.a.createElement("div",{style:{width:"93%",minHeight:"40px",overflowWrap:"break-word",marginLeft:10,marginRight:300}})))))},He=function(e){var t=e.currentFile,a=e.selectedColor,o=e.edgeType,l=e.setEditMode,i=e.isEditMode,v=e.orientation;v;var y={};y[t.id]=[],console.log(JSON.parse(localStorage.getItem("legend"))),console.log(y);var O=Object(n.useState)([]),x=Object(c.a)(O,2),j=x[0],C=x[1],k=Object(n.useState)({value:!1,msg:""}),w=Object(c.a)(k,2),N=w[0],T=w[1],I=Object(n.useState)({}),R=Object(c.a)(I,2),B=R[0],P=R[1],J=Object(n.useState)(!1),Y=Object(c.a)(J,2),W=Y[0],V=Y[1],_=Object(n.useState)(!1),X=Object(c.a)(_,2),U=(X[0],X[1],Object(n.useState)(!1)),q=Object(c.a)(U,2),$=(q[0],q[1],Object(n.useState)(!1)),Q=Object(c.a)($,2),Z=Q[0],ee=Q[1],te=Object(n.useState)({color:"#846090",title:""}),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(null!=localStorage.getItem("legend")?JSON.parse(localStorage.getItem("legend")):y),se=Object(c.a)(oe,2),be=se[0],Ee=se[1],Oe=r.a.useState(!1),je=Object(c.a)(Oe,2),Se=je[0],we=je[1],Te=Object(n.useState)(!1),Ae=Object(c.a)(Te,2),Fe=Ae[0],He=Ae[1],Ye=Object(n.useState)(!1),We=Object(c.a)(Ye,2),Ve=We[0],_e=We[1],Xe=Object(n.useState)(""),Ue=Object(c.a)(Xe,2),qe=Ue[0],Ge=Ue[1],Ke=Object(n.useState)(!1),$e=Object(c.a)(Ke,2),Qe=$e[0],Ze=$e[1],et=Object(n.useState)(!1),tt=Object(c.a)(et,2),at=tt[0],nt=tt[1],rt=Object(n.useState)({r:"193",g:"230",b:"255",a:"100"}),ot=Object(c.a)(rt,2),lt=ot[0],ct=ot[1],it=Object(n.useState)({r:"187",g:"187",b:"192",a:"100"}),st=Object(c.a)(it,2),dt=st[0],ut=st[1],mt=Object(n.useState)([]),gt=Object(c.a)(mt,2),pt=gt[0],ft=(gt[1],Object(n.useState)({})),bt=Object(c.a)(ft,2),ht=bt[0],Et=(bt[1],Object(n.useState)(!0)),vt=Object(c.a)(Et,2),yt=(vt[0],vt[1]),Ot=r.a.useState([]),xt=Object(c.a)(Ot,2),jt=xt[0],Ct=xt[1],kt=Object(n.useState)({value:!1,msg:""}),St=Object(c.a)(kt,2),wt=St[0],Nt=St[1],Tt=Object(n.useState)([]),At=Object(c.a)(Tt,2),It=At[0],Rt=At[1],Ft=Object(n.useState)(!1),Lt=Object(c.a)(Ft,2),zt=(Lt[0],Lt[1]),Mt=Object(n.useRef)(null),Dt=Object(n.useState)(null),Bt=Object(c.a)(Dt,2),Pt=Bt[0],Jt=Bt[1],Ht=Object(n.useState)(!1),Yt=Object(c.a)(Ht,2),Wt=Yt[0],Vt=Yt[1],_t=Object(n.useState)({key:"",value1:"",value2:""}),Xt=Object(c.a)(_t,2),Ut=Xt[0],qt=Xt[1];console.log();var Gt=Object(n.useState)(!!B.hasOwnProperty("data")&&B.data.hasArrowEdge),Kt=Object(c.a)(Gt,2),$t=Kt[0],Qt=Kt[1],Zt=Object(n.useState)(!!B.hasOwnProperty("data")&&B.data.hasAnimatedEdge),ea=Object(c.a)(Zt,2),ta=ea[0],aa=ea[1],na=Object(n.useState)(!!B.hasOwnProperty("data")&&B.data.isCollapsable),ra=Object(c.a)(na,2),oa=ra[0],la=ra[1],ca=r.a.useState(null),ia=Object(c.a)(ca,2),sa=ia[0],da=ia[1],ua=Object(n.useState)("1"),ma=Object(c.a)(ua,2),ga=ma[0],pa=ma[1],fa=Object(n.useState)(""),ba=Object(c.a)(fa,2),ha=ba[0],Ea=ba[1],va=function(){da(null)},ya=function(){Vt(!1)},Oa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log(t),fetch("".concat(Le,"/api/update-elements"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session"),file:t.id,isDelete:a,elements:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e.elements),C(e.elements)}))},xa=function(){var e=Object(ce.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(ie.a)({},t)).type="customEdge",a.data={hasArrow:!1,type:o,color:dt},a.animated=!1,console.log(a,"**********8"),e.next=7,Object(ke.f)(a,j);case 7:return n=e.sent,e.next=10,C(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ja=function(){var e=Object(ce.a)(le.a.mark((function e(t,a){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i?(P(a),la(a.data.isCollapsable),aa(a.data.hasAnimatedEdge),Qt(a.data.hasArrowEdge)):P(a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ca=function e(t,a){return Object(ke.k)(t,a).reduce((function(t,n){return[].concat(Object(s.a)(t),[n],Object(s.a)(e(n,a)))}),[])},ka=function(){var e=Object(ce.a)(le.a.mark((function e(t,a){var n,r,o;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i||(console.log(a),a.data.isCollapsable&&(n=Object(s.a)(j),(r=Object(ke.k)(a,j)).length>0&&(o=Ca(a,j),console.log(o),console.log(r),r[0].isHidden?r.map((function(e){var t=Object(ie.a)({},e);t.isHidden=!1,console.log(t),n=n.map((function(a){return a.id!==e.id?(a.hasOwnProperty("target")&&a.target===e.id&&(a.isHidden=!1),a):t}))})):o.map((function(e){var t=Object(ie.a)({},e);t.isHidden=!0,console.log(t),n=n.map((function(a){return a.id!==e.id?(a.hasOwnProperty("target")&&a.target===e.id&&(a.isHidden=!0),a):t}))})),console.log(n),C(n))));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){fetch("".concat(Le,"/api/get-user-info"),{method:"POST",body:JSON.stringify({session_id:localStorage.getItem("session")}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("testtttttttttt",e);var a=[],n=JSON.parse(e.elements);a=0===n.length?[]:n.hasOwnProperty(t.id)?n[t.id]:[],console.log(a),C(a),Rt(Array.isArray(JSON.parse(e.tags))?JSON.parse(e.tags):JSON.parse(e.tags).tags)}))}),[t]);var Sa,wa=function(){He(!1)},Na=function(){var e=Object(ce.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Object(s.a)(j)).map((function(e){if(e.id===B.id&&!B.data.tags.includes(qe)){var t=Object(s.a)(B.data.tags);t.push(qe),B.data.tags=t}})),e.next=4,C(t);case 4:Ia(t),ee(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(ce.a)(le.a.mark((function e(){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(ke.i)([B],j),n=j.filter((function(e){return!a.includes(e)&&e.id!==B.id})),null!==t&&(Object(ie.a)({},t).elements=n),C(n),Oa(n,t),P({});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Aa=function(){return"randomnode_".concat(+new Date+Math.random())},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=Object(s.a)(e),n=Object(ie.a)({},t);n.elements=a,C(a),Oa(a,t)},Ra=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:100,y:0},r=j?Object(s.a)(j):[];r.push({id:Aa(),node:t.id,type:e,data:{title:"title",description:"special"===e?[{key:"",value1:"",value2:"",section:"1",fieldDesc:""}]:null,color:a,isCollapsable:!0,hasAnimatedEdge:!1,hasArrowEdge:!1,tags:[],desc:"description"},targetPosition:"horizontal"===v?"left":"top",sourcePosition:"horizontal"===v?"right":"bottom",isHidden:!1,position:n});var o=Object(ie.a)({},t);o.elements=r,C(r)},Fa=function(){var e=Object(ce.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.i)([B],j);case 2:t=e.sent,a=Object(s.a)(j),t.map((function(e){a.map((function(t,a){Object(ke.m)(t)?t.id===e.id&&(console.log(t),t.data.hasArrow=!0===$t?null:Re):t.id===B.id&&(n=a)}))})),a[n].data.hasArrowEdge=!a[n].data.hasArrowEdge,Qt(!$t),console.log(a[n].data.hasArrowEdge),C(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),La=G()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(lt.r,", ").concat(lt.g,", ").concat(lt.b,", ").concat(lt.a,")")},swatch:{padding:"5px",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),za=G()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(dt.r,", ").concat(dt.g,", ").concat(dt.b,", ").concat(dt.a,")")},swatch:{padding:"5px",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),Ma=function(e){re({color:ne.color,title:e.target.value})},Da=function(){if(""==ne.title)T({value:!0,msg:"Please enter the name of the legend"});else{T({value:!1,msg:""}),_e(!1);var e=Object(ie.a)({},be);console.log(e),void 0===e[t.id]?e[t.id]=[ne]:e[t.id]=e[t.id].push(ne),Ee(e),localStorage.setItem("legend",JSON.stringify(e)),re({color:"#846090",title:""})}},Ba=function(e){var t;return console.log(e),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(console.log("yayyyyyyyyyyyyy"),3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),{r:(t="0x"+t.join(""))>>16&255,g:t>>8&255,b:255&t,a:1}):{r:"193",g:"230",b:"255",a:"100"}},Pa=function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),{r:(t="0x"+t.join(""))>>16&255,g:t>>8&255,b:255&t,a:"1"}};console.log("elements",j),console.log(t),0===j.length?Sa=[]:(console.log(j,"***********************88"),(Sa=j.filter((function(e){return e.node===t.id||e.source}))).sort((function(e,t){if(e.hasOwnProperty("data")&&t.hasOwnProperty("data"))return parseInt(e.id.slice(11,24))-parseInt(t.id.slice(11,24))}))),i||(Sa=ze(Sa,"vertical"===v?"TB":"LR")),console.log(Sa),console.log(j);var Ja=Me();return null===t?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{container:!0,direction:"row",spacing:1,style:{width:"82%"}},r.a.createElement(d.a,{item:!0,xs:3,style:{textAlign:"start"}},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(A.a,null),style:{textAlign:"start",marginTop:20},onClick:function(){return He(!0)}},"New Node"),r.a.createElement(L.a,{open:Fe,onClose:wa,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title",style:{textAlign:"center"}},"Select a Shape"),r.a.createElement(M.a,null,r.a.createElement(d.a,{container:!0,direction:"column",spacing:1},r.a.createElement(d.a,{container:!0,direction:"row",spacing:1},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{onClick:function(){Ra("special"),He(!1)}},r.a.createElement("div",{style:{background:"#ADD8E6",color:"black",padding:10,border:"1px solid black",width:100,height:10,borderRadius:"10px 10px 0px 0px",textAlign:"center",cursor:"pointer"}}),r.a.createElement("div",{style:{background:"white",border:"1px solid black",color:"black",padding:10,width:100,height:40,borderRadius:"0px 0px 10px 10px",textAlign:"center",marginRight:"20px",cursor:"pointer"}}))),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"90px",width:"130px",borderRadius:"50px",marginLeft:"10px",cursor:"pointer"},onClick:function(){Ra("oval"),He(!1)}}))),r.a.createElement(d.a,{container:!0,direction:"row",spacing:1,style:{paddingTop:"30px",paddingBottom:"20px"}},r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"80px",width:"130px",borderRadius:"10px",cursor:"pointer"},onClick:function(){Ra("rectangle"),He(!1)}})),r.a.createElement(d.a,{item:!0,xs:6},r.a.createElement("div",{style:{border:"1px solid black",height:"80px",width:"80px",borderRadius:"5px",transform:"rotate(45deg)",marginLeft:"30px",cursor:"pointer"},onClick:function(){Ra("diamond"),He(!1)}})))))))),r.a.createElement(d.a,{item:!0,xs:3},r.a.createElement(u.a,{variant:"h6",style:{fontWeight:"bold"}},"Project: ".concat(t.parentId)),r.a.createElement(u.a,{variant:"h6"},"Sub Process: ".concat(t.text))),r.a.createElement(d.a,{item:!0,xs:5,style:{textAlign:"center"}},r.a.createElement(u.a,{component:"div"},r.a.createElement(d.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:20}},r.a.createElement(d.a,{item:!0},"View"),r.a.createElement(d.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:i,onChange:function(){yt(!0),l(!i)},name:"checked"})),r.a.createElement(d.a,{item:!0},"Edit"),i&&r.a.createElement(g.a,{variant:"contained",color:"primary",style:{marginLeft:30},onClick:function(){Ia(Object(s.a)(j))}},"Save"),!i&&r.a.createElement(he.a,{style:{marginLeft:15},placeholder:"Search item",onChange:function(e,t){console.log(e);var a,n=Object(s.a)(j);""===e?(a=Object(s.a)(n)).map((function(e){e.isHidden=!1})):a=n.filter((function(t){if(Object(ke.n)(t,n)){console.log(t);var a=(t.data.desc+t.data.title).toLowerCase();if(null!==t.data.description&&void 0!==t.data.description){var r="";t.data.description.map((function(e){r=r+e.key+e.value})),a+=r}return console.log(a),console.log(-1!==a.indexOf(e)),-1!==a.indexOf(e)?(t.isHidden=!1,!0):(t.isHidden=!0,!0)}return t.isHidden=!0,!0})),console.log(a),C(a)}})))),r.a.createElement(d.a,{item:!0,xs:1,style:{textAlign:"end"}},r.a.createElement(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){da(e.currentTarget)}},r.a.createElement(ve.a,null)),r.a.createElement(ue.a,{id:"simple-menu",anchorEl:sa,keepMounted:!0,open:Boolean(sa),onClose:va},r.a.createElement(E.a,{onClick:function(){we(!0),va()}},"Import CSV"),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{onClick:function(){_e(!0),va()}},"Add legend"),r.a.createElement(L.a,{open:Ve,onClose:function(){return _e(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title",style:{textAlign:"center"}},"Select a Legend"),r.a.createElement(M.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"80%"}},[{color:"#846090",name:"c846090"},{color:"#31688E",name:"c31688E"},{color:"#42B879",name:"c42B879"},{color:"#FEE83A",name:"cFEE83A"},{color:"#EE6548",name:"cEE6548"},{color:"#6CDADC",name:"c6CDADC"},{color:"#FFB54C",name:"cFFB54C"},{color:"#E370B1",name:"cE370B1"}].map((function(e){return r.a.createElement("div",{className:e.color==ne.color?"bordered":e.name,style:{backgroundColor:e.color,borderRadius:"100%",width:20,height:20},onClick:function(){re({color:e.color,title:ne.title})}})}))),r.a.createElement(F.a,{name:B.id,defaultValue:ne.title,placeholder:"Legend name",margin:"normal",onChange:Ma,style:{width:"90%"},value:ne.title,error:!!N.value,helperText:N.value&&N.msg}),r.a.createElement(g.a,{variant:"contained",color:"primary",style:{marginLeft:"60%"},onClick:function(){Da()}},"Save"))))),r.a.createElement(ye.a,{clearOnUnmount:!0,filesLimit:1,dialogTitle:r.a.createElement(r.a.Fragment,null,console.log(wt),wt.value&&r.a.createElement(Ne.a,{severity:"error"},wt.msg),r.a.createElement("span",null,"Upload file"),r.a.createElement(m.a,{style:{right:"12px",top:"8px",position:"absolute"},onClick:function(){return we(!1)}},r.a.createElement(xe.a,null))),acceptedFiles:[".csv"],fileObjects:jt,cancelButtonText:"cancel",showAlerts:["error","info"],submitButtonText:"submit",maxFileSize:5e6,open:Se,onAdd:function(e){console.log("onAdd",e),0===jt.length&&Ct([].concat(jt,e))},onDelete:function(e){var t=Object(s.a)(jt).filter((function(t){return t!==e}));Ct(t),console.log("onDelete",e)},onClose:function(){return we(!1)},onSave:function(){console.log(jt[0]),Ce.a.parse(jt[0].file,{complete:function(e){var a=e.data,n=[],r={},o={},l=[],c={},i=[],d={},u={},m=0;if((a=a.slice(1)).map((function(e){console.log("0------0",e);var a=function(e){if(console.log(It),0===e.length)return[];var t=e.split(",");return 0===It.length?{value:!0,msg:"One or more of the tags provided does not exist."}:(t.map((function(e){if(!It.includes(e))return{value:!0,msg:"One or more of the tags provided does not exist."}})),t)}(e[3]);if(console.log(a,"7777777777777777777"),console.log(e[4]),console.log(e[0]),console.log(e[0].includes(".")),e[0].includes(".")){m+=1;var g=void 0!==d[r[e[0].split(".")[0]]]?Object(s.a)(d[r[e[0].split(".")[0]]]):[];g.push({key:e[1],value1:e[2],value2:e[3],section:e[4],fieldDesc:e[5]}),d[r[e[0].split(".")[0]]]=Object(s.a)(g)}else if(["special","oval","rectangle","diamond"].includes(e[4].toLowerCase()))if(console.log("----"),Array.isArray(a)){if(r[e[0]]=Aa(),n.push({id:r[e[0]],node:t.id,type:e[4],data:{title:e[1],description:null,color:e[2].startsWith("#")?Ba(e[2]):{r:"193",g:"230",b:"255",a:"100"},tags:a,isCollapsable:"TRUE"===e[5]},isHidden:!1,position:{x:0,y:0},desc:null}),"TRUE"===e[7]&&l.push(r[e[0]]),"step"===e[8]?c[r[e[0]]]="step":c[r[e[0]]]="curved","TRUE"===e[9]&&i.push(r[e[0]]),e[10].startsWith("#")&&(u[r[e[0]]]=e[10]),console.log(n),e[6].length>0&&e[6].includes(",")){var p=e[6].split(",");o[e[0]]=p}}else console.log(a),Nt({value:!0,msg:"One or more of the tags provided does not exist."});else console.log("test"),Nt({value:!0,msg:"A type of shape in the file does not exist."})})),console.log(n),console.log(d),n.map((function(e){e.data.description=d[e.id]})),console.log("Finished:",e.data),console.log("onSave",jt),console.log(n.length),n.length===a.length-m){for(var g in console.log(r),console.log(o),o)if(o.hasOwnProperty(g))if(Array.isArray(o[g]))o[g].map((function(e){var t=Object(ke.f)({animated:!!l.includes(r[g]),type:"customEdge",data:{type:c[r[g]],hasArrow:!0===i.includes(r[g]),color:void 0!==u[r[g]]?Pa(u[r[g]]):{r:"187",g:"187",b:"192",a:"100"}},source:r[g],target:r[e]},n);console.log(t),n=t}));else{var p=Object(ke.f)({animated:!!l.includes(r[g]),type:"customEdge",data:{type:c[r[g]],hasArrow:!0===i.includes(r[g]),color:void 0!==u[r[g]]?Pa(u[r[g]]):{r:"187",g:"187",b:"192",a:"100"}},source:r[g],target:r[o[g]]},n);console.log(p),n=p}var f=ze(n);C(f),Ia(f),console.log(n),zt(!0),we(!1)}}})},showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:Ja.previewChip}},showFileNamesInPreview:!0}),r.a.createElement(me.a,{open:wt.value,autoHideDuration:5e3,onClose:function(){return Nt({value:!1,msg:""})}},r.a.createElement(Ne.a,{onClose:function(){return Nt({value:!1,msg:""})},severity:"error"},wt.msg)))),r.a.createElement(p.a,{orientation:"horizontal"}),r.a.createElement(ke.e,null,r.a.createElement("div",{className:"reactflow-wrapper",ref:Mt},r.a.createElement(ke.g,{nodeTypes:{special:De,oval:Be,rectangle:Pe,diamond:Je},edgeTypes:{customEdge:Ie},elements:0!==Object.keys(ht).length?pt:Sa,onElementsRemove:function(){var e=j.filter((function(e){return e.id!==B.id}));Object(ie.a)({},t).elements=e,C(e),Ia(e)},onNodeDoubleClick:ja,onElementClick:ka,onDrop:function(e){e.preventDefault();var t=Mt.current.getBoundingClientRect(),a=e.dataTransfer.getData("application/reactflow"),n=Pt.project({x:e.clientX-t.left,y:e.clientY-t.top});Ra(a,n)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onNodeDragStop:function(e,t){var a=Object(s.a)(j);console.log(t),a.map((function(e){console.log(e),e.id===t.id&&(console.log(e),e.position=Object(ie.a)({},t.position))})),console.log(a),C(a)},connectionLineType:o,onPaneContextMenu:function(){return He(!0)},onConnect:xa,onLoad:function(e){Jt(e),e.fitView()},snapToGrid:!1,paneMoveable:!0,style:{height:"90vh",width:i?"84%":"95%"}},r.a.createElement(ke.d,{nodeStrokeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"special"===e.type?"#0041d0":"oval"===e.type?"#008000":"rectangle"===e.type?"#8A2BE2":"diamond"===e.type?"#00008b":"output"===e.type?"#ff0072":"default"===e.type?"#1a192b":"#eee"},nodeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"#fff"},nodeBorderRadius:2}),r.a.createElement(ke.b,null),be.hasOwnProperty(t.id)&&0!=be[t.id].length&&r.a.createElement("div",{className:"legendBox"},be[t.id].map((function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{className:"legendColor",style:{backgroundColor:e.color}}),r.a.createElement("div",{style:{marginLeft:"10%"}},e.title))}))),r.a.createElement(ke.a,{color:"#aaa",gap:16})))),r.a.createElement("svg",{width:"0",height:"0"},r.a.createElement("defs",null,r.a.createElement("marker",{className:"react-flow__arrowhead",id:"my-marker",markerWidth:"25",markerHeight:"25",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},r.a.createElement("polyline",{stroke:"#BBBBC0",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:"#BBBBC0",points:"-5,-4 0,0 -5,4 -5,-4"})))),i?r.a.createElement(ge.a,{variant:"permanent",anchor:"right",style:{textAlign:"center"}},r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center",width:250,overflowY:"auto"}},0===Object.keys(B).length?r.a.createElement(u.a,{variant:"h6",gutterBottom:!0,style:{paddingTop:380,paddingLeft:10,paddingRight:10}},"Double-click on any item to get a detailed view."):r.a.createElement("div",null,r.a.createElement(u.a,{variant:"h6",style:{marginTop:40}},"Edit Title"),r.a.createElement(F.a,{name:B.id,defaultValue:B.data.title,margin:"normal",onChange:function(e){var t=Object(s.a)(j);t.map((function(t){var a;t.id===e.target.name&&(a=e.target.value.length>=27?e.target.value.substring(0,27):e.target.value,t.data.title=a,P(t))})),C(t),Ia(t)},disabled:!W,style:{width:"90%"},value:B.data.title,InputProps:{endAdornment:r.a.createElement(pe.a,{position:"end"},r.a.createElement(m.a,{onClick:function(){V(!0)}},r.a.createElement(H.a,null)))}}),r.a.createElement(u.a,{variant:"h6",style:{marginTop:40}},"Edit Description"),r.a.createElement(F.a,{name:B.id,defaultValue:B.data.desc,margin:"normal",rows:4,multiline:!0,variant:"filled",onChange:function(e){var t=Object(s.a)(j);t.map((function(t){t.id===e.target.name&&(t.data.desc=e.target.value,P(t))})),console.log("new ele",t),C(t),Ia(t)},style:{width:"90%"},value:B.data.desc}),"special"===B.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h6",style:{marginTop:20}},"Add Field"),r.a.createElement(g.a,{variant:"outlined",startIcon:r.a.createElement(A.a,null),color:"secondary",onClick:function(){return Vt(!0)}},"Add"),r.a.createElement(L.a,{open:Wt,onClose:ya,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Add New Field"),r.a.createElement(M.a,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(F.a,{style:{width:"23%",marginRigh:10},label:"Key",id:"outlined-size-small",defaultValue:"Key",variant:"outlined",size:"small",onChange:function(e){var t=Object(ie.a)({},Ut);t.key=e.target.value,qt(t)}}),r.a.createElement(F.a,{style:{width:"23%",marginLeft:10},label:"Value",id:"outlined-size-normal",defaultValue:"Value 1",onChange:function(e){var t=Object(ie.a)({},Ut);t.value1=e.target.value,qt(t)},variant:"outlined",size:"small"}),r.a.createElement(F.a,{style:{width:"23%",marginLeft:10},label:"Value",id:"outlined-size-normal",defaultValue:"Value 2",onChange:function(e){var t=Object(ie.a)({},Ut);t.value2=e.target.value,qt(t)},variant:"outlined",size:"small"})),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center",maxHeight:"100%",overflow:"auto"}},r.a.createElement(f.a,{variant:"outlined",style:{width:200,marginTop:30,textAlign:"center"}},r.a.createElement(b.a,{id:"demo-simple-select-outlined-label"},"Section"),r.a.createElement(h.a,{style:{fontSize:15},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){pa(e.target.value)},variant:"outlined",label:"Section",defaultValue:"1",displayEmpty:!0},r.a.createElement(E.a,{value:"1"},"Section 1"),r.a.createElement(E.a,{value:"2"},"Section 2")))),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center",maxHeight:"100%",overflow:"auto"}},r.a.createElement(F.a,{margin:"normal",label:"Description",placeholder:"Description",required:!0,rows:4,multiline:!0,variant:"filled",onChange:function(e){Ea(e.target.value)},value:ha}))),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:ya,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){var e=Object(s.a)(j);e.map((function(e){e.id===B.id&&e.data.description.push(Object(ie.a)(Object(ie.a)({},Ut),{},{section:ga,fieldDesc:ha}))})),C(e),Ia(e),Vt(!1)},color:"primary"},"Add")))),r.a.createElement(p.a,{style:{marginTop:10}}),r.a.createElement(g.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(A.a,{size:"medium"}),onClick:function(){return ee(!0)},style:{marginTop:20}},"Add Tag"),r.a.createElement(L.a,{open:Z,onClose:wa,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,{id:"form-dialog-title"},"Add Tag"),r.a.createElement(M.a,null,r.a.createElement(h.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:qe,onChange:function(e){Ge(e.target.value)},fullWidth:!0,displayEmpty:!0},r.a.createElement(E.a,{value:""},r.a.createElement("em",null,"None")),null!==localStorage.getItem("tags")&&JSON.parse(localStorage.getItem("tags")).length>0?JSON.parse(localStorage.getItem("tags")).map((function(e){return r.a.createElement(E.a,{value:e},e)})):r.a.createElement("div",null))),r.a.createElement(z.a,null,r.a.createElement(g.a,{onClick:wa,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:Na,color:"primary"},"Add"))),r.a.createElement(p.a,{style:{marginTop:20,marginBottom:10}}),B.data.tags.length>0&&B.data.tags.map((function(e){return r.a.createElement(fe.a,{label:e,color:"secondary",style:{marginBottom:10}})})),r.a.createElement(p.a,{orientation:"horizontal",style:{marginTop:10}}),r.a.createElement(u.a,{component:"div"},r.a.createElement(d.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(d.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:oa,onClick:function(){return function(){console.log("YYYYYYYYYYYYYGUKB");var e=Object(s.a)(j);e.map((function(e){e.id===B.id&&(console.log(!e.data.isCollapsable),e.data.isCollapsable=!oa)})),la(!oa),Ia(e)}()},name:"checked2"})),r.a.createElement(d.a,{item:!0},"Collapsable"))),r.a.createElement(p.a,{orientation:"horizontal",style:{marginTop:10}}),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center",maxHeight:"100%",overflow:"auto"}},r.a.createElement("div",{style:{paddingLeft:20,paddingTop:20}},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"subtitle1",gutterBottom:!0},"Node Color"),r.a.createElement("div",{style:La.swatch,onClick:function(){Ze(!Qe)}},r.a.createElement("div",{style:La.color})),Qe?r.a.createElement("div",{style:La.popover},r.a.createElement("div",{style:La.cover,onClick:function(){Ze(!1)}}),r.a.createElement(K.a,{color:lt,onChange:function(e){ct(e.rgb);var t=Object(s.a)(j);t.map((function(t){t.id===B.id&&(t.data.color=e.rgb)})),C(t)}})):null))),r.a.createElement(p.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"start",maxHeight:"100%",overflow:"auto"}},r.a.createElement(f.a,{variant:"outlined",style:{width:150,marginTop:30,marginLeft:20}},r.a.createElement(b.a,{id:"demo-simple-select-outlined-label"},"EdgeType"),r.a.createElement(h.a,{style:{fontSize:15},labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){var t=Object(ke.i)([B],j),a=Object(s.a)(j);t.map((function(t){a.map((function(a){Object(ke.m)(a)&&a.id===t.id&&(console.log(a),a.data.type=e.target.value)}))})),C(a),Ia(a)},variant:"outlined",label:"EdgeType",defaultValue:"smoothstep",displayEmpty:!0},r.a.createElement(E.a,{value:"smoothstep"},"Step Edge"),r.a.createElement(E.a,{value:"default"},"Curved Edge")))),r.a.createElement(u.a,{component:"div"},r.a.createElement(d.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(d.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:ta,onClick:function(){return function(){var e,t=Object(ke.i)([B],j),a=Object(s.a)(j);t.map((function(t){a.map((function(a,n){Object(ke.m)(a)?a.id===t.id&&(console.log(a),a.animated=!ta):a.id===B.id&&(e=n)}))})),a[e].data.hasAnimatedEdge=!a[e].data.hasAnimatedEdge,aa(!ta),C(a),Ia(a)}()},name:"checked3"})),r.a.createElement(d.a,{item:!0},"Animated"))),r.a.createElement(u.a,{component:"div"},r.a.createElement(d.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{paddingTop:20,paddingLeft:40}},r.a.createElement(d.a,{item:!0},r.a.createElement(de.a,{color:"primary",checked:$t,onClick:function(){return Fa()},name:"checked4"})),r.a.createElement(d.a,{item:!0},"Arrow"))),r.a.createElement("div",{style:{paddingLeft:20,paddingTop:20}},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"subtitle1",gutterBottom:!0},"Arrow Color"),r.a.createElement("div",{style:za.swatch,onClick:function(){nt(!at)}},r.a.createElement("div",{style:za.color})),at?r.a.createElement("div",{style:za.popover},r.a.createElement("div",{style:za.cover,onClick:function(){nt(!1)}}),r.a.createElement(K.a,{color:dt,onChange:function(e){ut(e.rgb);var t=Object(ke.i)([B],j),a=Object(s.a)(j);t.map((function(t){a.map((function(a,n){Object(ke.m)(a)&&a.id===t.id&&(console.log(a),a.data.color=e.rgb)}))})),C(a)}})):null)),r.a.createElement(p.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(m.a,{style:{color:"red"},onClick:function(){return Ta()}},r.a.createElement(S.a,null))))):r.a.createElement("div",null,Object.keys(B).length>0&&r.a.createElement(ge.a,{variant:"permanent",anchor:"right",style:{textAlign:"center"}},r.a.createElement(d.a,{item:!0,xs:12,style:{textAlign:"center",width:250,overflowY:"auto"}},r.a.createElement("div",null,r.a.createElement(u.a,{variant:"h4",style:{marginTop:40,marginBottom:10,fontWeight:"bolder"}},"Title"),r.a.createElement(u.a,{variant:"h6",gutterBottom:!0},B.data.title),r.a.createElement(u.a,{variant:"h4",style:{marginTop:40,marginBottom:10,fontWeight:"bolder"}},"Description"),r.a.createElement(u.a,{variant:"h6",gutterBottom:!0},B.data.desc))))))},Ye=a(478),We=a.n(Ye),Ve=a(479);var _e=function(){var e=Object(n.useState)(null===localStorage.getItem("current")?{}:JSON.parse(localStorage.getItem("current"))),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)({r:"193",g:"230",b:"255",a:"100"}),g=Object(c.a)(m,2),p=g[0],f=g[1],b=Object(n.useState)("smoothstep"),h=Object(c.a)(b,2),E=h[0],v=h[1],y=Object(n.useState)(!1),O=Object(c.a)(y,2),x=O[0],j=O[1],C=Object(n.useState)("vertical"),k=Object(c.a)(C,2),S=k[0],w=k[1];return Object(n.useEffect)((function(){if(null===localStorage.getItem("session")){var e=We.a.sign({userId:Object(Ve.v4)()},"secretkey",{expiresIn:"1h",algorithm:"HS256"});!function(e){fetch("".concat("https://flowchart-backend.herokuapp.com","/api/update-session"),{method:"POST",body:JSON.stringify({session_id:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}(e),localStorage.setItem("session",e)}}),[]),r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:5,sm:4,md:2,lg:2},r.a.createElement(re,{currentFile:a,setCurrentFile:o,setCanvasVisibility:function(e){return u(e)},setEdgeType:v,setSelectedColor:f,isEditMode:x,setOrientation:w,orientation:S})),s&&r.a.createElement(d.a,{item:!0,xs:7,sm:8,md:10,lg:10},r.a.createElement(He,{orientation:S,currentFile:a,setCurrentFile:o,isEditMode:x,setEditMode:j,selectedColor:p,edgeType:E})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root"))}},[[501,1,2]]]);
//# sourceMappingURL=main.e980d006.chunk.js.map